(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"/jIb":function(n,l,e){"use strict";e.r(l);var t=e("8Y7J");class a{}var i=e("pMnS"),o=e("vDiE"),r=e("dsm9"),u=e("Mr+X"),c=e("Gi4r"),s=e("l9Fl"),d=e("Kzgj"),b=e("dNq8"),p=e("S+Dd"),m=e("PaPx"),g=e("m2dz");class h{constructor(n,l,e,t,a,i){this.i18nextService=n,this.dialog=l,this.sessionStorage=e,this.usersService=t,this.profilesService=a,this.router=i,this.users=[],this.profiles=[],this.count=0,this.deletedUserIndex=null}ngOnInit(){this.initUsers(),this.fetchProfiles()}initUsers(){const n=this.sessionStorage.fetchSorting(g.b.VD_SORTING_USERS);n?this.fetchUsers(n.page,n.limit,n.column,n.sort):this.fetchUsers(1,25,"createdAt",-1)}fetchUsers(n,l,e,t){this.usersService.getUsers(n,l,e,t).subscribe(a=>{this.users=a.data.result,this.count=a.data.count,this.sessionStorage.storeSorting(g.b.VD_SORTING_USERS,{page:n,limit:l,column:e,sort:t})},n=>{console.error(n)})}fetchProfiles(){this.profilesService.getAll().subscribe(n=>{this.profiles=n.data.result},n=>{console.error(n)})}onRefreshUser(n){this.fetchUsers(n.page,n.limit,n.column,n.sort)}onCreateUser(){this.router.navigate(["admin","user","create"])}onEditUser(n){this.router.navigate(["admin","user","create",{user:JSON.stringify(n)}])}onDisplayUserDetail(n){this.dialog.open(m.a,{data:n,width:"600px",height:"auto"})}onRemoveUser(n){this.dialog.open(p.a,{data:{important:!0,message:this.i18nextService.t("admin.delete.user")},width:"520px",height:"auto",autoFocus:!1}).afterClosed().subscribe(l=>{l&&(this.deletedUserIndex=n.index,this.usersService.deleteUser(n.row._id).subscribe(n=>{if(n){this.deletedUserIndex=null;const n=this.sessionStorage.fetchSorting(g.b.VD_SORTING_USERS);this.fetchUsers(n.page,n.limit,n.column,n.sort)}},n=>{console.error(n),this.deletedUserIndex=null}))})}}var f=e("+J6A"),_=e("s6ns"),C=e("l8xI"),v=e("IheW"),O=e("AytR"),Q=e("ZZK/");let P=(()=>{class n{constructor(n,l){this.http=n,this.apiService=l}getProfiles(n=1,l=25,e="name",t=1){return this.http.get(`${O.a.api_url}profiles/all`,{params:(new v.h).set("page",n.toString()).set("limit",l.toString()).set("column",e.toString()).set("sort",t.toString())})}editProfile(n,l){return this.apiService.put(`profiles/${n}`,l)}createProfile(n){return this.apiService.post("profiles",n)}delete(n){return this.apiService.delete(`profiles/${n}/delete`)}getAll(){return this.apiService.get("profiles/all")}}return n.ngInjectableDef=t.ec({factory:function(){return new n(t.fc(v.c),t.fc(Q.a))},token:n,providedIn:"root"}),n})();var x=e("iInd"),M=t.Cb({encapsulation:0,styles:[[""]],data:{}});function w(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,3,"vd-datatable",[],null,[[null,"refreshDataEmitter"],[null,"displayDetailEmitter"],[null,"editEmitter"],[null,"removeEmitter"],[null,"addEmitter"]],(function(n,l,e){var t=!0,a=n.component;return"refreshDataEmitter"===l&&(t=!1!==a.onRefreshUser(e)&&t),"displayDetailEmitter"===l&&(t=!1!==a.onDisplayUserDetail(e)&&t),"editEmitter"===l&&(t=!1!==a.onEditUser(e)&&t),"removeEmitter"===l&&(t=!1!==a.onRemoveUser(e)&&t),"addEmitter"===l&&(t=!1!==a.onCreateUser()&&t),t}),s.b,s.a)),t.Db(1,4308992,null,0,d.a,[b.a],{type:[0,"type"],addLabel:[1,"addLabel"],addPermission:[2,"addPermission"],editPermission:[3,"editPermission"],deletePermission:[4,"deletePermission"],data:[5,"data"],dataCount:[6,"dataCount"],deletedItemIndex:[7,"deletedItemIndex"],select:[8,"select"],footer:[9,"footer"],add:[10,"add"],displayedColumns:[11,"displayedColumns"],pageSizeOptions:[12,"pageSizeOptions"]},{removeEmitter:"removeEmitter",editEmitter:"editEmitter",refreshDataEmitter:"refreshDataEmitter",displayDetailEmitter:"displayDetailEmitter",addEmitter:"addEmitter"}),t.Rb(2,3),t.Rb(3,3)],(function(n,l){var e=l.component,t=e.users,a=e.count,i=e.deletedUserIndex,o=n(l,2,0,"username","createdAt","action"),r=n(l,3,0,25,50,100);n(l,1,1,["users","admin.create.user","ADMIN_USERS_CREATE","ADMIN_USERS_UPDATE","ADMIN_USERS_DELETE",t,a,i,!1,!0,!0,o,r])}),null)}var y=e("Rlre"),S=e("rWV4"),k=e("+nRM");class E{constructor(n,l,e,t,a,i){this.i18nextService=n,this.dialog=l,this.sessionStorage=e,this.profilesService=t,this.viewsService=a,this.router=i,this.profiles=[],this.views=[],this.count=0,this.deletedProfileIndex=null}ngOnInit(){this.initProfiles(),this.fetchViews()}initProfiles(){const n=this.sessionStorage.fetchSorting(g.b.VD_SORTING_PROFILES);n?this.fetchProfiles(n.page,n.limit,n.column,n.sort):this.fetchProfiles(1,25,"createdAt",-1)}fetchProfiles(n,l,e,t){this.profilesService.getProfiles(n,l,e,t).subscribe(a=>{this.profiles=a.data.result,this.count=a.data.count,this.sessionStorage.storeSorting(g.b.VD_SORTING_PROFILES,{page:n,limit:l,column:e,sort:t})},n=>{console.log(n)})}fetchViews(){this.viewsService.getAll().subscribe(n=>{this.views=n.data.result},n=>{console.error(n)})}onRefreshProfile(n){this.fetchProfiles(n.page,n.limit,n.column,n.sort)}onCreateProfile(){this.router.navigate(["admin","profile","create"])}onEditProfile(n){this.router.navigate(["admin","profile","create",{profile:JSON.stringify(n)}])}onDisplayProfileDetail(n){this.dialog.open(k.a,{data:n,width:"928px",height:"auto"})}onRemoveProfile(n){this.dialog.open(p.a,{data:{important:!0,message:this.i18nextService.t("admin.delete.profile")},width:"520px",height:"auto",autoFocus:!1}).afterClosed().subscribe(l=>{l&&(this.deletedProfileIndex=n.index,this.profilesService.delete(n.row._id).subscribe(n=>{if(n){this.deletedProfileIndex=null;const n=this.sessionStorage.fetchSorting(g.b.VD_SORTING_PROFILES);this.fetchProfiles(n.page,n.limit,n.column,n.sort)}},n=>{console.error(n),this.deletedProfileIndex=null}))})}}let D=(()=>{class n{constructor(n,l){this.http=n,this.apiService=l}getView(n){return this.apiService.get(`views/info/${n}`)}getViews(n=1,l=25,e="label",t=1){return this.http.get(`${O.a.api_url}views/all`,{params:(new v.h).set("page",n.toString()).set("limit",l.toString()).set("column",e.toString()).set("sort",t.toString())})}createView(n){return this.apiService.post("views",n)}updateView(n,l){return this.apiService.put(`views/${n}`,l)}deleteView(n){return this.apiService.delete(`views/${n}/delete`)}getAll(){return this.apiService.get("views/all")}updatePosition(n){return this.apiService.put("views/position",n)}}return n.ngInjectableDef=t.ec({factory:function(){return new n(t.fc(v.c),t.fc(Q.a))},token:n,providedIn:"root"}),n})();var I=t.Cb({encapsulation:0,styles:[[""]],data:{}});function F(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,3,"vd-datatable",[],null,[[null,"refreshDataEmitter"],[null,"displayDetailEmitter"],[null,"editEmitter"],[null,"removeEmitter"],[null,"addEmitter"]],(function(n,l,e){var t=!0,a=n.component;return"refreshDataEmitter"===l&&(t=!1!==a.onRefreshProfile(e)&&t),"displayDetailEmitter"===l&&(t=!1!==a.onDisplayProfileDetail(e)&&t),"editEmitter"===l&&(t=!1!==a.onEditProfile(e)&&t),"removeEmitter"===l&&(t=!1!==a.onRemoveProfile(e)&&t),"addEmitter"===l&&(t=!1!==a.onCreateProfile()&&t),t}),s.b,s.a)),t.Db(1,4308992,null,0,d.a,[b.a],{type:[0,"type"],addLabel:[1,"addLabel"],addPermission:[2,"addPermission"],editPermission:[3,"editPermission"],deletePermission:[4,"deletePermission"],data:[5,"data"],dataCount:[6,"dataCount"],deletedItemIndex:[7,"deletedItemIndex"],select:[8,"select"],footer:[9,"footer"],add:[10,"add"],displayedColumns:[11,"displayedColumns"],pageSizeOptions:[12,"pageSizeOptions"]},{removeEmitter:"removeEmitter",editEmitter:"editEmitter",refreshDataEmitter:"refreshDataEmitter",displayDetailEmitter:"displayDetailEmitter",addEmitter:"addEmitter"}),t.Rb(2,4),t.Rb(3,3)],(function(n,l){var e=l.component,t=e.profiles,a=e.count,i=e.deletedProfileIndex,o=n(l,2,0,"label","description","createdAt","action"),r=n(l,3,0,25,50,100);n(l,1,1,["profiles","admin.create.profile","ADMIN_PROFILES_CREATE","ADMIN_PROFILES_UPDATE","ADMIN_PROFILES_DELETE",t,a,i,!1,!0,!0,o,r])}),null)}var V=e("bujt"),N=e("Fwaw"),W=e("5GAg"),T=e("omvX"),q=e("Dd/T");class U{constructor(n,l,e,t,a){this.i18nextService=n,this.dialog=l,this.sessionStorage=e,this.viewsService=t,this.router=a,this.views=[],this.count=0,this.deletedViewIndex=null}ngOnInit(){this.initViews()}initViews(){const n=this.sessionStorage.fetchSorting(g.b.VD_SORTING_VIEWS);n?this.fetchViews(n.page,n.limit,n.column,n.sort):this.fetchViews(1,25,"position",1)}fetchViews(n,l,e,t){this.viewsService.getViews(n,l,e,t).subscribe(a=>{this.views=a.data.result,this.count=a.data.count,this.sessionStorage.storeSorting(g.b.VD_SORTING_VIEWS,{page:n,limit:l,column:e,sort:t})},n=>{console.error(n)})}onRefreshView(n){this.fetchViews(n.page,n.limit,n.column,n.sort)}onCreateView(){this.router.navigate(["admin","view","create"])}onEditView(n){this.router.navigate(["admin","view","create",{view:JSON.stringify(n)}])}onRemoveView(n){this.dialog.open(p.a,{data:{important:!0,message:this.i18nextService.t("admin.delete.view")},width:"520px",height:"auto",autoFocus:!1}).afterClosed().subscribe(l=>{l&&(this.deletedViewIndex=n.index,this.viewsService.deleteView(n.row._id).subscribe(n=>{if(n){this.deletedViewIndex=null;const n=this.sessionStorage.fetchSorting(g.b.VD_SORTING_VIEWS);this.fetchViews(n.page,n.limit,n.column,n.sort)}},n=>{console.error(n),this.deletedViewIndex=null}))})}changePosition(){this.dialog.open(q.a,{data:{title:"admin.view.arrange.title",description:"admin.view.arrange.description",list:this.views},width:"500px",height:"auto",autoFocus:!1}).afterClosed().subscribe(n=>{n&&this.viewsService.updatePosition({views:n}).subscribe(n=>{200===n.code&&this.fetchViews(1,25,"position",1)},n=>{console.error(n)})})}}var L=t.Cb({encapsulation:0,styles:[[".order[_ngcontent-%COMP%]{float:right;color:#6e7f95;border:2px solid #6e7f95;background-color:#fff;height:40px;border-radius:20px;font-family:OpenSans;font-size:14px;cursor:pointer;outline:0;margin:0 0 0 82px}"]],data:{}});function Z(n){return t.ac(0,[t.Sb(0,f.i,[f.e,f.b,f.d]),(n()(),t.Eb(1,0,null,null,5,"button",[["class","order"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.changePosition()&&t),t}),V.b,V.a)),t.Db(2,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Eb(3,0,null,0,1,"mat-icon",[["class","icon-order mat-icon notranslate"],["role","img"],["svgIcon","order"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.Db(4,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Yb(5,0,[" ","\n"])),t.Ub(6,1),(n()(),t.Eb(7,0,null,null,3,"vd-datatable",[],null,[[null,"editEmitter"],[null,"refreshDataEmitter"],[null,"removeEmitter"],[null,"addEmitter"]],(function(n,l,e){var t=!0,a=n.component;return"editEmitter"===l&&(t=!1!==a.onEditView(e)&&t),"refreshDataEmitter"===l&&(t=!1!==a.onRefreshView(e)&&t),"removeEmitter"===l&&(t=!1!==a.onRemoveView(e)&&t),"addEmitter"===l&&(t=!1!==a.onCreateView()&&t),t}),s.b,s.a)),t.Db(8,4308992,null,0,d.a,[b.a],{type:[0,"type"],addLabel:[1,"addLabel"],addPermission:[2,"addPermission"],editPermission:[3,"editPermission"],deletePermission:[4,"deletePermission"],data:[5,"data"],dataCount:[6,"dataCount"],select:[7,"select"],footer:[8,"footer"],add:[9,"add"],displayedColumns:[10,"displayedColumns"],pageSizeOptions:[11,"pageSizeOptions"]},{removeEmitter:"removeEmitter",editEmitter:"editEmitter",refreshDataEmitter:"refreshDataEmitter",addEmitter:"addEmitter"}),t.Rb(9,2),t.Rb(10,3)],(function(n,l){var e=l.component;n(l,4,0,"order");var t=e.views,a=e.count,i=n(l,9,0,"label","action"),o=n(l,10,0,25,50,100);n(l,8,1,["views","admin.create.view","ADMIN_VIEWS_CREATE","ADMIN_VIEWS_UPDATE","ADMIN_VIEWS_DELETE",t,a,!1,!0,!0,i,o])}),(function(n,l){n(l,1,0,t.Qb(l,2).disabled||null,"NoopAnimations"===t.Qb(l,2)._animationMode),n(l,3,0,t.Qb(l,4).inline,"primary"!==t.Qb(l,4).color&&"accent"!==t.Qb(l,4).color&&"warn"!==t.Qb(l,4).color);var e=t.Zb(l,5,0,n(l,6,0,t.Qb(l,0),"admin.order"));n(l,5,0,e)}))}class A{constructor(n,l,e,a){this.cardsService=n,this.dialog=l,this.router=e,this.i18next=a,this.delete=new t.p}ngOnInit(){}onEdit(){this.router.navigate(["admin","dashboard","create",{card:JSON.stringify(this.card)}])}onDelete(){this.dialog.open(p.a,{data:{important:!0,message:this.i18next.t("admin.delete.dashboard_card")},width:"520px",height:"auto",autoFocus:!1}).afterClosed().subscribe(n=>{n&&this.delete.emit(this.card._id)})}}var z=e("pryM"),R=t.Cb({encapsulation:0,styles:[[".card-drag_element[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;min-width:50%;border-radius:6px;padding:17px 30px;min-height:150px}.card-drag_element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6e7f95;font-family:OpenSans;font-size:16px;font-weight:600;letter-spacing:0;line-height:22px}.card-drag_element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{align-self:flex-end}.card-drag_element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6e7f95;cursor:pointer;margin-top:30px}.card-drag_element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:first-child{margin-right:18px}.card-drag_element-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:30px}.card-drag_element-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#134e91;font-family:OpenSansBold}"]],data:{}});function j(n){return t.ac(0,[t.Sb(0,f.i,[f.e,f.b,f.d]),(n()(),t.Eb(1,0,null,null,15,"div",[["class","card-drag_element"]],null,null,null,null,null)),(n()(),t.Eb(2,0,null,null,3,"div",[["class","card-drag_element-header"]],null,null,null,null,null)),(n()(),t.Eb(3,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t.Yb(4,null,["",""])),t.Pb(null,0),(n()(),t.Eb(6,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t.Yb(7,null,["",""])),t.Ub(8,1),(n()(),t.Eb(9,0,null,null,2,"p",[],[[4,"font-family",null]],null,null,null,null)),(n()(),t.Yb(10,null,["",""])),t.Ub(11,1),(n()(),t.Eb(12,0,null,null,4,"div",[["class","actions"]],null,null,null,null,null)),(n()(),t.Eb(13,0,null,null,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","edit"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onEdit()&&t),t}),u.b,u.a)),t.Db(14,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Eb(15,0,null,null,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","trash"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onDelete()&&t),t}),u.b,u.a)),t.Db(16,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null)],(function(n,l){n(l,14,0,"edit"),n(l,16,0,"trash")}),(function(n,l){var e=l.component;n(l,4,0,e.card.label);var a=t.Zb(l,7,0,n(l,8,0,t.Qb(l,0),"admin.dashboard.card.type"));n(l,7,0,a),n(l,9,0,"OpenSansBold");var i=t.Zb(l,10,0,n(l,11,0,t.Qb(l,0),"admin.cards.types."+e.card.type));n(l,10,0,i),n(l,13,0,t.Qb(l,14).inline,"primary"!==t.Qb(l,14).color&&"accent"!==t.Qb(l,14).color&&"warn"!==t.Qb(l,14).color),n(l,15,0,t.Qb(l,16).inline,"primary"!==t.Qb(l,16).color&&"accent"!==t.Qb(l,16).color&&"warn"!==t.Qb(l,16).color)}))}var Y=e("Mc5n"),$=e("SVse"),G=e("IP0z"),B=e("LkiC"),H=e("aSCX");class J{constructor(){this.column=1}deserialize(n){return Object.assign(this,n),this}}class K{constructor(n,l){this.router=n,this.cardsService=l,this.orderChanged=!1}ngOnInit(){this.cardsService.getAll().subscribe(n=>{if(n&&n.code&&200===n.code){this.cards=[];for(const l of n.data)this.cards.push((new J).deserialize(l));this.cards.sort((n,l)=>n.position-l.position)}else console.error(n.message)},n=>{console.error(n)})}ngOnDestroy(){if(this.orderChanged){const n=this.cards.map(n=>n._id);this.cardsService.order({cards:n}).subscribe(n=>{n&&n.code&&200!==n.code&&console.error(n.message)},n=>{console.error(n)})}}onAdd(){this.router.navigate(["admin","dashboard","create"])}deleteCard(n){this.cardsService.delete(n).subscribe(l=>{if(l&&l.code&&200===l.code){const l=this.cards.findIndex(l=>l._id===n);this.cards.splice(l,1)}},n=>{console.error(n)})}dragDrop(n){Object(Y.k)(this.cards,n.previousIndex,n.currentIndex),this.orderChanged=!0}}var X=t.Cb({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{margin:28px;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]{background-color:#f7f7f7;margin-top:16px;display:flex;flex-direction:column;min-width:100%;min-height:100%;align-items:center;padding:26px 0}.container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto;-moz-column-gap:40px;column-gap:40px;row-gap:24px;max-width:75%;min-width:75%}.container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6e7f95;cursor:-webkit-grab;cursor:grab;margin-top:0}.container[_ngcontent-%COMP%]   .dashboard-content[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}"]],data:{}});function nn(n){return t.ac(0,[(n()(),t.Eb(0,16777216,null,null,9,"vd-dashboard-admin-card",[["cdkDrag",""],["class","cdk-drag"]],[[4,"grid-column-start",null],[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],[[null,"delete"]],(function(n,l,e){var t=!0;return"delete"===l&&(t=!1!==n.component.deleteCard(e)&&t),t}),j,R)),t.Db(1,4866048,[[1,4]],3,Y.c,[t.n,[3,Y.b],$.d,t.G,t.Z,Y.a,[2,G.b],Y.h,t.i],null,null),t.Wb(603979776,2,{_handles:1}),t.Wb(603979776,3,{_previewTemplate:0}),t.Wb(603979776,4,{_placeholderTemplate:0}),t.Db(5,114688,null,0,A,[z.a,_.e,x.l,f.j],{card:[0,"card"]},{delete:"delete"}),t.Vb(2048,null,Y.l,null,[Y.c]),(n()(),t.Eb(7,0,null,0,2,"mat-icon",[["cdkDragHandle",""],["class","mat-icon notranslate cdk-drag-handle"],["role","img"],["svgIcon","dragdrop"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.Db(8,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),t.Db(9,147456,[[2,4]],0,Y.d,[t.n,[2,Y.l]],null,null),(n()(),t.ub(0,null,null,0))],(function(n,l){n(l,5,0,l.context.$implicit),n(l,8,0,"dragdrop")}),(function(n,l){n(l,0,0,"span "+l.context.$implicit.column,t.Qb(l,1).disabled,t.Qb(l,1)._dragRef.isDragging()),n(l,7,0,t.Qb(l,8).inline,"primary"!==t.Qb(l,8).color&&"accent"!==t.Qb(l,8).color&&"warn"!==t.Qb(l,8).color)}))}function ln(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,10,"div",[["class","container"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,1,"vd-button",[["class","add"],["iconName","add"]],null,[[null,"clickEvent"]],(function(n,l,e){var t=!0;return"clickEvent"===l&&(t=!1!==n.component.onAdd()&&t),t}),B.b,B.a)),t.Db(2,114688,null,0,H.a,[],{iconName:[0,"iconName"],label:[1,"label"]},{clickEvent:"clickEvent"}),(n()(),t.Eb(3,0,null,null,7,"div",[["class","dashboard-content"]],null,null,null,null,null)),(n()(),t.Eb(4,0,null,null,6,"div",[["cdkDropList",""],["class","grid cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(n,l,e){var t=!0;return"cdkDropListDropped"===l&&(t=!1!==n.component.dragDrop(e)&&t),t}),null,null)),t.Vb(6144,null,Y.b,null,[Y.f]),t.Db(6,1196032,null,1,Y.f,[t.n,Y.h,t.i,[2,G.b],[3,Y.g]],null,{dropped:"cdkDropListDropped"}),t.Wb(603979776,1,{_draggables:1}),t.Vb(256,null,Y.g,void 0,[]),(n()(),t.ub(16777216,null,null,1,null,nn)),t.Db(10,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=l.component;n(l,2,0,"add","admin.dashboard.new_card"),n(l,10,0,e.cards)}),(function(n,l){n(l,4,0,t.Qb(l,6).id,t.Qb(l,6).disabled,t.Qb(l,6)._dropListRef.isDragging(),t.Qb(l,6)._dropListRef.isReceiving())}))}var en=e("Ii/1");class tn{constructor(n,l){this.i18nextService=n,this.route=l,this.pageName="",this.previousIndex=null}ngOnInit(){this.pageName=this.i18nextService.t("global.pages.name.admin"),this.route.params&&this.route.params.subscribe(n=>{n.hasOwnProperty("index")&&(this.previousIndex=n.index)})}}var an=t.Cb({encapsulation:2,styles:[['.adminTabs #dashboard,.adminTabs #profiles,.adminTabs #users,.adminTabs #views{display:flex;align-items:center}.adminTabs #dashboard mat-icon,.adminTabs #profiles mat-icon,.adminTabs #users mat-icon,.adminTabs #views mat-icon{margin-right:10px;border-radius:6px;height:24px;width:24px;padding:2px;color:#fff;background-color:#000}.adminTabs #dashboard span,.adminTabs #profiles span,.adminTabs #users span,.adminTabs #views span{font-size:24px;font-family:OpenSans}.adminTabs [aria-posinset="1"].mat-ripple.ng-star-inserted.mat-tab-label-active,.adminTabs [aria-posinset="2"].mat-ripple.ng-star-inserted.mat-tab-label-active,.adminTabs [aria-posinset="3"].mat-ripple.ng-star-inserted.mat-tab-label-active,.adminTabs [aria-posinset="4"].mat-ripple.ng-star-inserted.mat-tab-label-active{border-bottom:3px solid #004289!important}.adminTabs [aria-posinset="1"].mat-ripple.ng-star-inserted.mat-tab-label-active #dashboard,.adminTabs [aria-posinset="1"].mat-ripple.ng-star-inserted.mat-tab-label-active #profiles,.adminTabs [aria-posinset="1"].mat-ripple.ng-star-inserted.mat-tab-label-active #users,.adminTabs [aria-posinset="1"].mat-ripple.ng-star-inserted.mat-tab-label-active #views,.adminTabs [aria-posinset="2"].mat-ripple.ng-star-inserted.mat-tab-label-active #dashboard,.adminTabs [aria-posinset="2"].mat-ripple.ng-star-inserted.mat-tab-label-active #profiles,.adminTabs [aria-posinset="2"].mat-ripple.ng-star-inserted.mat-tab-label-active #users,.adminTabs [aria-posinset="2"].mat-ripple.ng-star-inserted.mat-tab-label-active #views,.adminTabs [aria-posinset="3"].mat-ripple.ng-star-inserted.mat-tab-label-active #dashboard,.adminTabs [aria-posinset="3"].mat-ripple.ng-star-inserted.mat-tab-label-active #profiles,.adminTabs [aria-posinset="3"].mat-ripple.ng-star-inserted.mat-tab-label-active #users,.adminTabs [aria-posinset="3"].mat-ripple.ng-star-inserted.mat-tab-label-active #views,.adminTabs [aria-posinset="4"].mat-ripple.ng-star-inserted.mat-tab-label-active #dashboard,.adminTabs [aria-posinset="4"].mat-ripple.ng-star-inserted.mat-tab-label-active #profiles,.adminTabs [aria-posinset="4"].mat-ripple.ng-star-inserted.mat-tab-label-active #users,.adminTabs [aria-posinset="4"].mat-ripple.ng-star-inserted.mat-tab-label-active #views{color:#004289}.adminTabs [aria-posinset="1"].mat-ripple.ng-star-inserted.mat-tab-label-active #dashboard mat-icon,.adminTabs [aria-posinset="1"].mat-ripple.ng-star-inserted.mat-tab-label-active #profiles mat-icon,.adminTabs [aria-posinset="1"].mat-ripple.ng-star-inserted.mat-tab-label-active #users mat-icon,.adminTabs [aria-posinset="1"].mat-ripple.ng-star-inserted.mat-tab-label-active #views mat-icon,.adminTabs [aria-posinset="2"].mat-ripple.ng-star-inserted.mat-tab-label-active #dashboard mat-icon,.adminTabs [aria-posinset="2"].mat-ripple.ng-star-inserted.mat-tab-label-active #profiles mat-icon,.adminTabs [aria-posinset="2"].mat-ripple.ng-star-inserted.mat-tab-label-active #users mat-icon,.adminTabs [aria-posinset="2"].mat-ripple.ng-star-inserted.mat-tab-label-active #views mat-icon,.adminTabs [aria-posinset="3"].mat-ripple.ng-star-inserted.mat-tab-label-active #dashboard mat-icon,.adminTabs [aria-posinset="3"].mat-ripple.ng-star-inserted.mat-tab-label-active #profiles mat-icon,.adminTabs [aria-posinset="3"].mat-ripple.ng-star-inserted.mat-tab-label-active #users mat-icon,.adminTabs [aria-posinset="3"].mat-ripple.ng-star-inserted.mat-tab-label-active #views mat-icon,.adminTabs [aria-posinset="4"].mat-ripple.ng-star-inserted.mat-tab-label-active #dashboard mat-icon,.adminTabs [aria-posinset="4"].mat-ripple.ng-star-inserted.mat-tab-label-active #profiles mat-icon,.adminTabs [aria-posinset="4"].mat-ripple.ng-star-inserted.mat-tab-label-active #users mat-icon,.adminTabs [aria-posinset="4"].mat-ripple.ng-star-inserted.mat-tab-label-active #views mat-icon{background-color:#134e91}.adminTabs [aria-posinset="1"].mat-ripple:hover,.adminTabs [aria-posinset="2"].mat-ripple:hover,.adminTabs [aria-posinset="3"].mat-ripple:hover,.adminTabs [aria-posinset="4"].mat-ripple:hover{background-color:rgba(0,66,137,.1)}mat-tab-body{padding:5px}mat-tab-body .mat-tab-body-content{overflow:hidden}']],data:{}});function on(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,5,"div",[["id","users"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","user"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.Db(2,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Eb(3,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t.Yb(4,null,["",""])),t.Ub(5,1)],(function(n,l){n(l,2,0,"user")}),(function(n,l){n(l,1,0,t.Qb(l,2).inline,"primary"!==t.Qb(l,2).color&&"accent"!==t.Qb(l,2).color&&"warn"!==t.Qb(l,2).color);var e=t.Zb(l,4,0,n(l,5,0,t.Qb(l.parent.parent,0),"admin.users"));n(l,4,0,e)}))}function rn(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"vd-user-tab",[],null,null,null,w,M)),t.Db(1,114688,null,0,h,[f.j,_.e,b.a,C.a,P,x.l],null,null)],(function(n,l){n(l,1,0)}),null)}function un(n){return t.ac(0,[(n()(),t.Eb(0,16777216,null,null,7,"mat-tab",[],null,null,null,y.d,y.a)),t.Db(1,770048,[[1,4]],2,S.c,[t.Z],null,null),t.Wb(603979776,2,{templateLabel:0}),t.Wb(335544320,3,{_explicitContent:0}),(n()(),t.ub(16777216,null,0,1,null,on)),t.Db(5,16384,[[2,4]],0,S.i,[t.V,t.Z],null,null),(n()(),t.ub(0,[[3,2]],0,1,null,rn)),t.Db(7,16384,null,0,S.f,[t.V],null,null),(n()(),t.ub(0,null,null,0))],(function(n,l){n(l,1,0)}),null)}function cn(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,5,"div",[["id","profiles"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","profile"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.Db(2,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Eb(3,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t.Yb(4,null,["",""])),t.Ub(5,1)],(function(n,l){n(l,2,0,"profile")}),(function(n,l){n(l,1,0,t.Qb(l,2).inline,"primary"!==t.Qb(l,2).color&&"accent"!==t.Qb(l,2).color&&"warn"!==t.Qb(l,2).color);var e=t.Zb(l,4,0,n(l,5,0,t.Qb(l.parent.parent,0),"admin.profiles"));n(l,4,0,e)}))}function sn(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"vd-profile-tab",[],null,null,null,F,I)),t.Db(1,114688,null,0,E,[f.j,_.e,b.a,P,D,x.l],null,null)],(function(n,l){n(l,1,0)}),null)}function dn(n){return t.ac(0,[(n()(),t.Eb(0,16777216,null,null,7,"mat-tab",[],null,null,null,y.d,y.a)),t.Db(1,770048,[[1,4]],2,S.c,[t.Z],null,null),t.Wb(603979776,4,{templateLabel:0}),t.Wb(335544320,5,{_explicitContent:0}),(n()(),t.ub(16777216,null,0,1,null,cn)),t.Db(5,16384,[[4,4]],0,S.i,[t.V,t.Z],null,null),(n()(),t.ub(0,[[5,2]],0,1,null,sn)),t.Db(7,16384,null,0,S.f,[t.V],null,null),(n()(),t.ub(0,null,null,0))],(function(n,l){n(l,1,0)}),null)}function bn(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,5,"div",[["id","views"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","view"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.Db(2,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Eb(3,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t.Yb(4,null,["",""])),t.Ub(5,1)],(function(n,l){n(l,2,0,"view")}),(function(n,l){n(l,1,0,t.Qb(l,2).inline,"primary"!==t.Qb(l,2).color&&"accent"!==t.Qb(l,2).color&&"warn"!==t.Qb(l,2).color);var e=t.Zb(l,4,0,n(l,5,0,t.Qb(l.parent.parent,0),"admin.views"));n(l,4,0,e)}))}function pn(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"vd-view-tab",[],null,null,null,Z,L)),t.Db(1,114688,null,0,U,[f.j,_.e,b.a,D,x.l],null,null)],(function(n,l){n(l,1,0)}),null)}function mn(n){return t.ac(0,[(n()(),t.Eb(0,16777216,null,null,7,"mat-tab",[],null,null,null,y.d,y.a)),t.Db(1,770048,[[1,4]],2,S.c,[t.Z],null,null),t.Wb(603979776,6,{templateLabel:0}),t.Wb(335544320,7,{_explicitContent:0}),(n()(),t.ub(16777216,null,0,1,null,bn)),t.Db(5,16384,[[6,4]],0,S.i,[t.V,t.Z],null,null),(n()(),t.ub(0,[[7,2]],0,1,null,pn)),t.Db(7,16384,null,0,S.f,[t.V],null,null),(n()(),t.ub(0,null,null,0))],(function(n,l){n(l,1,0)}),null)}function gn(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,5,"div",[["id","dashboard"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","dashboard"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.Db(2,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Eb(3,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t.Yb(4,null,["",""])),t.Ub(5,1)],(function(n,l){n(l,2,0,"dashboard")}),(function(n,l){n(l,1,0,t.Qb(l,2).inline,"primary"!==t.Qb(l,2).color&&"accent"!==t.Qb(l,2).color&&"warn"!==t.Qb(l,2).color);var e=t.Zb(l,4,0,n(l,5,0,t.Qb(l.parent.parent,0),"admin.dashboard.tab"));n(l,4,0,e)}))}function hn(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"vd-dashboard-tab",[],null,null,null,ln,X)),t.Db(1,245760,null,0,K,[x.l,z.a],null,null)],(function(n,l){n(l,1,0)}),null)}function fn(n){return t.ac(0,[(n()(),t.Eb(0,16777216,null,null,7,"mat-tab",[],null,null,null,y.d,y.a)),t.Db(1,770048,[[1,4]],2,S.c,[t.Z],null,null),t.Wb(603979776,8,{templateLabel:0}),t.Wb(335544320,9,{_explicitContent:0}),(n()(),t.ub(16777216,null,0,1,null,gn)),t.Db(5,16384,[[8,4]],0,S.i,[t.V,t.Z],null,null),(n()(),t.ub(0,[[9,2]],0,1,null,hn)),t.Db(7,16384,null,0,S.f,[t.V],null,null),(n()(),t.ub(0,null,null,0))],(function(n,l){n(l,1,0)}),null)}function _n(n){return t.ac(0,[t.Sb(0,f.i,[f.e,f.b,f.d]),(n()(),t.Eb(1,0,null,null,14,"mat-tab-group",[["class","adminTabs mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,y.c,y.b)),t.Db(2,3325952,null,1,S.g,[t.n,t.i,[2,S.a],[2,T.a]],{disableRipple:[0,"disableRipple"],selectedIndex:[1,"selectedIndex"],animationDuration:[2,"animationDuration"]},null),t.Wb(603979776,1,{_tabs:1}),(n()(),t.ub(16777216,null,null,2,null,un)),t.Db(5,16384,null,0,en.a,[t.V,t.Z],{vdPermissions:[0,"vdPermissions"]},null),t.Rb(6,1),(n()(),t.ub(16777216,null,null,2,null,dn)),t.Db(8,16384,null,0,en.a,[t.V,t.Z],{vdPermissions:[0,"vdPermissions"]},null),t.Rb(9,1),(n()(),t.ub(16777216,null,null,2,null,mn)),t.Db(11,16384,null,0,en.a,[t.V,t.Z],{vdPermissions:[0,"vdPermissions"]},null),t.Rb(12,1),(n()(),t.ub(16777216,null,null,2,null,fn)),t.Db(14,16384,null,0,en.a,[t.V,t.Z],{vdPermissions:[0,"vdPermissions"]},null),t.Rb(15,1)],(function(n,l){n(l,2,0,!0,l.component.previousIndex,0);var e=n(l,6,0,"ADMIN_USERS");n(l,5,0,e);var t=n(l,9,0,"ADMIN_PROFILES");n(l,8,0,t);var a=n(l,12,0,"ADMIN_VIEWS");n(l,11,0,a);var i=n(l,15,0,"ADMIN_DASHBOARD");n(l,14,0,i)}),(function(n,l){n(l,1,0,t.Qb(l,2).dynamicHeight,"below"===t.Qb(l,2).headerPosition)}))}class Cn{constructor(n,l){this.i18nextService=n,this.route=l,this.pageName="",this.tabIndex=0}ngOnInit(){this.pageName=this.i18nextService.t("global.pages.name.admin"),this.route.params.subscribe(n=>{n.tabIndex&&(this.tabIndex=n.tabIndex)})}}var vn=t.Cb({encapsulation:0,styles:[[".admin[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.admin[_ngcontent-%COMP%]   vd-header[_ngcontent-%COMP%]{order:1}.admin[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex:1;order:2;width:100%;background-color:#fff}"]],data:{}});function On(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,5,"div",[["class","admin"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,1,"vd-header",[],null,null,null,o.b,o.a)),t.Db(2,114688,null,0,r.a,[],{pageName:[0,"pageName"]},null),(n()(),t.Eb(3,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(n()(),t.Eb(4,0,null,null,1,"vd-admin-tabs",[],null,null,null,_n,an)),t.Db(5,114688,null,0,tn,[f.j,x.a],null,null)],(function(n,l){n(l,2,0,l.component.pageName),n(l,5,0)}),null)}function Qn(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"vd-admin",[],null,null,null,On,vn)),t.Db(1,114688,null,0,Cn,[f.j,x.a],null,null)],(function(n,l){n(l,1,0)}),null)}var Pn=t.Ab("vd-admin",Cn,Qn,{pageName:"pageName"},{},[]),xn=e("Z5h4"),Mn=e("s7LF"),wn=e("r0V8"),yn=e("AyJq"),Sn=e("c9fC"),kn=e("8bJo"),En=e("vKJI"),Dn=e("qJ50"),In=e("qJ5m"),Fn=e("Xd0L"),Vn=e("HsOI"),Nn=e("dJrM"),Wn=e("/HVE"),Tn=e("ZwOa"),qn=e("oapL");class Un{deserialize(n){return Object.assign(this,n),this}}class Ln{deserialize(n){return Object.assign(this,n),this}}class Zn{constructor(){this.isDefault=!1}deserialize(n){if(Object.assign(this,n),n.hasOwnProperty("permissions")){this.permissions=[];for(const l of n.permissions)this.permissions.push((new Un).deserialize(l))}if(n.hasOwnProperty("views")){this.views=[];for(const l of n.views)this.views.push((new Ln).deserialize(l))}return this}}class An{constructor(n,l,e,t,a,i,o,r){this.permissionsService=n,this.viewsService=l,this.profilesService=e,this.i18nextService=t,this.router=a,this.dialog=i,this.formBuilder=o,this.route=r,this.name="",this.description="",this.selectedPermissions=[],this.selectedViews=[],this.stepperLength=0,this.currentStepIndex=0,this.update=!1}buildForm(){this.profileForm=this.formBuilder.group({name:[this.name,Mn.v.required],description:[this.description,Mn.v.required]})}filterPermissions(n){const l={};for(const e of n)l[e.category]||(l[e.category]=[]),l[e.category].push(e);this.allPermissions=[];for(const e in l)l.hasOwnProperty(e)&&this.allPermissions.push(l[e])}createProfile(){const n=new Zn;n.label=this.profileForm.controls.name.value,n.description=this.profileForm.controls.description.value,n.permissions=[];const l=this.allPermissions.reduce((n,l)=>n.concat(l),[]);for(const t of l)t.checked&&n.permissions.push(t);n.views=[];for(const t of this.allViews)t.checked&&n.views.push(t);let e;(e=this.update?this.profilesService.editProfile(this._id,n):this.profilesService.createProfile(n)).subscribe(n=>{n&&n.code&&200===n.code?this.router.navigate(["/admin",{index:1}]):console.error(n.message)})}cancelForm(){this.dialog.open(p.a,{data:{important:!0,message:this.i18nextService.t("global.action.cancel")},width:"520px",height:"auto",autoFocus:!1}).afterClosed().subscribe(n=>{n&&this.router.navigate(["/admin",{index:1}])})}ngOnInit(){this.pageName=this.i18nextService.t("admin.profile.title.create"),this.route.params.subscribe(n=>{if(n.hasOwnProperty("profile")){this.update=!0,this.pageName=this.i18nextService.t("admin.profile.title.update");const l=(new Zn).deserialize(JSON.parse(n.profile));this._id=l._id,this.name=l.label,this.description=l.description;for(const n of l.permissions)n.hasOwnProperty("permissions")&&this.selectedPermissions.push(n.permissions);this.selectedPermissions=this.selectedPermissions.reduce((n,l)=>n.concat(l),[]),this.selectedViews=l.views}}),this.buildForm()}ngAfterViewInit(){this.stepperLength=this.matStepper.steps.length,this.permissionsService.getPermissions().subscribe(n=>{if(n.data){const l=[];for(const e of n.data){const n=(new Un).deserialize(e);n.checked=this.selectedPermissions.some(l=>l.code===n.code),l.push(n)}this.filterPermissions(l)}return null}),this.viewsService.getAll().subscribe(n=>{if(n.data&&n.data.result){this.allViews=[];for(const l of n.data.result){const n=(new Ln).deserialize(l);n.checked=this.selectedViews.some(l=>l._id===n._id),this.allViews.push(n)}}})}onStepChange(n){this.currentStepIndex=n.selectedIndex}previousStepClick(){this.currentStepIndex>0?this.matStepper.previous():this.cancelForm()}nextStepClick(){this.currentStepIndex<this.stepperLength-1?this.matStepper.next():this.currentStepIndex===this.stepperLength-1&&this.createProfile()}onPermissionChecked(n,l,e){this.allPermissions[l][e].checked=n.checked}onViewChecked(n,l){this.allViews[l].checked=n.checked}onCheckedAll(n,l){const e=this.allPermissions[l];for(const t of e)t.checked=n.checked}allChecked(n){return this.allPermissions[n]&&this.allPermissions[n].every(n=>n.checked)}someChecked(n){if(!this.allPermissions[n])return!1;const l=this.allPermissions[n].filter(n=>n.checked).length;return l>0&&l<this.allPermissions[n].length}permissionsChecked(){if(this.allPermissions){const n=this.allPermissions.reduce((n,l)=>n.concat(l),[]);for(const l of n)if(l.checked)return!0}return!1}}let zn=(()=>{class n{constructor(n,l){this.http=n,this.apiService=l}getPermissions(){return this.apiService.get("permissions/")}}return n.ngInjectableDef=t.ec({factory:function(){return new n(t.fc(v.c),t.fc(Q.a))},token:n,providedIn:"root"}),n})();var Rn=t.Cb({encapsulation:0,styles:[[".form[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   vd-header[_ngcontent-%COMP%]{order:1}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;order:2;background-color:#fff;padding:20px 12.5px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]    .mat-horizontal-stepper-header-container{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]    .mat-expansion-indicator::after{border-color:#6e7f95}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .permission-label[_ngcontent-%COMP%]{padding:10px;margin-left:40px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .view-label[_ngcontent-%COMP%]{padding:10px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]{width:100%;height:100%}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]{display:flex;flex-direction:row}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex-grow:1;margin-right:15px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{flex-grow:10}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#152935;font-family:OpenSans;font-size:14px;letter-spacing:0;line-height:17.09px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-top:7px;width:100%;font-family:OpenSans;font-size:18px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-outline{top:0;color:#9aa7b6}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:0}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#ed1c2c;font-size:10px;margin-top:0}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .infos-profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#152935;font-family:OpenSans;font-size:14px;letter-spacing:0;line-height:17.09px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .infos-profile[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{font-size:16px;padding:5px 30px;background-color:#f7f7f7;font-weight:700;color:#152935}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]{margin:0 0 0 24px;width:auto}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 15px;display:flex;flex-direction:row;align-items:center}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:40px;width:200px;border-radius:20px;font-family:OpenSans;font-size:14px;cursor:pointer;outline:0;line-height:17px;background-color:#134e91;color:#fff}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .btn.stroked[_ngcontent-%COMP%]{border-color:#134e91;background-color:#fff;color:#134e91;border-width:2px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #cancel[_ngcontent-%COMP%]{margin:0 0 0 24px}.form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-right:12px}.form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-inner-container[_ngcontent-%COMP%]{height:18px;width:18px}.form[_ngcontent-%COMP%]    .mat-checkbox-checked.mat-accent .mat-checkbox-background, .form[_ngcontent-%COMP%]    .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background{background-color:#004289}"]],data:{}});function jn(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,5,"div",[["class","permission-label"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onPermissionChecked(e,n.parent.context.index,n.context.index)&&t),t}),xn.b,xn.a)),t.Vb(5120,null,Mn.l,(function(n){return[n]}),[wn.b]),t.Db(3,8568832,null,0,wn.b,[t.n,t.i,W.h,t.G,[8,null],[2,wn.a],[2,T.a]],{checked:[0,"checked"]},{change:"change"}),(n()(),t.Eb(4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Yb(5,null,["",""]))],(function(n,l){n(l,3,0,l.context.$implicit.checked)}),(function(n,l){n(l,1,0,t.Qb(l,3).id,null,t.Qb(l,3).indeterminate,t.Qb(l,3).checked,t.Qb(l,3).disabled,"before"==t.Qb(l,3).labelPosition,"NoopAnimations"===t.Qb(l,3)._animationMode),n(l,5,0,l.context.$implicit.label)}))}function Yn(n){return t.ac(0,[(n()(),t.Eb(0,16777216,null,null,16,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,yn.d,yn.a)),t.Db(1,1753088,null,1,Sn.e,[[3,Sn.a],t.i,kn.d,t.Z,$.d,[2,T.a],[2,Sn.b]],null,null),t.Wb(603979776,24,{_lazyContent:0}),t.Vb(256,null,Sn.a,void 0,[]),(n()(),t.Eb(4,0,null,0,10,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[2,"mat-expansion-toggle-indicator-after",null],[2,"mat-expansion-toggle-indicator-before",null],[40,"@.disabled",0],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"],["component","@expansionHeight.start"]],(function(n,l,e){var a=!0;return"click"===l&&(a=!1!==t.Qb(n,5)._toggle()&&a),"keydown"===l&&(a=!1!==t.Qb(n,5)._keydown(e)&&a),"component:@expansionHeight.start"===l&&(a=!1!==t.Qb(n,5)._animationStarted()&&a),a}),yn.c,yn.b)),t.Db(5,180224,[[23,4]],0,Sn.g,[Sn.e,t.n,W.h,t.i,[2,Sn.b]],null,null),t.Tb(6,{collapsedHeight:0,expandedHeight:1}),t.Tb(7,{value:0,params:1}),(n()(),t.Eb(8,0,null,0,6,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),t.Db(9,16384,null,0,Sn.h,[],null,null),(n()(),t.Eb(10,0,null,null,2,"mat-checkbox",[["class","checkbox mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"change"]],(function(n,l,e){var t=!0,a=n.component;return"click"===l&&(t=!1!==e.stopPropagation()&&t),"change"===l&&(t=!1!==a.onCheckedAll(e,n.context.index)&&t),t}),xn.b,xn.a)),t.Vb(5120,null,Mn.l,(function(n){return[n]}),[wn.b]),t.Db(12,8568832,null,0,wn.b,[t.n,t.i,W.h,t.G,[8,null],[2,wn.a],[2,T.a]],{disableRipple:[0,"disableRipple"],color:[1,"color"],checked:[2,"checked"],indeterminate:[3,"indeterminate"]},{change:"change"}),(n()(),t.Eb(13,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Yb(14,null,["",""])),(n()(),t.ub(16777216,null,1,1,null,jn)),t.Db(16,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null),(n()(),t.ub(0,null,null,0))],(function(n,l){var e=l.component;n(l,12,0,!0,"primary",e.allChecked(l.context.index),e.someChecked(l.context.index)),n(l,16,0,l.context.$implicit)}),(function(n,l){n(l,0,0,t.Qb(l,1).expanded,"NoopAnimations"===t.Qb(l,1)._animationMode,t.Qb(l,1)._hasSpacing());var e=t.Qb(l,5).panel._headerId,a=t.Qb(l,5).disabled?-1:0,i=t.Qb(l,5)._getPanelId(),o=t.Qb(l,5)._isExpanded(),r=t.Qb(l,5).panel.disabled,u=t.Qb(l,5)._isExpanded(),c="after"===t.Qb(l,5)._getTogglePosition(),s="before"===t.Qb(l,5)._getTogglePosition(),d=t.Qb(l,5)._animationsDisabled,b=n(l,7,0,t.Qb(l,5)._getExpandedState(),n(l,6,0,t.Qb(l,5).collapsedHeight,t.Qb(l,5).expandedHeight));n(l,4,0,e,a,i,o,r,u,c,s,d,b),n(l,10,0,t.Qb(l,12).id,null,t.Qb(l,12).indeterminate,t.Qb(l,12).checked,t.Qb(l,12).disabled,"before"==t.Qb(l,12).labelPosition,"NoopAnimations"===t.Qb(l,12)._animationMode),n(l,14,0,l.context.$implicit[0].category)}))}function $n(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,5,"div",[["class","view-label"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,2,"mat-checkbox",[["class","checkbox mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onViewChecked(e,n.context.index)&&t),t}),xn.b,xn.a)),t.Vb(5120,null,Mn.l,(function(n){return[n]}),[wn.b]),t.Db(3,8568832,null,0,wn.b,[t.n,t.i,W.h,t.G,[8,null],[2,wn.a],[2,T.a]],{disableRipple:[0,"disableRipple"],color:[1,"color"],checked:[2,"checked"]},{change:"change"}),(n()(),t.Eb(4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Yb(5,null,["",""]))],(function(n,l){n(l,3,0,!0,"primary",l.context.$implicit.checked)}),(function(n,l){n(l,1,0,t.Qb(l,3).id,null,t.Qb(l,3).indeterminate,t.Qb(l,3).checked,t.Qb(l,3).disabled,"before"==t.Qb(l,3).labelPosition,"NoopAnimations"===t.Qb(l,3)._animationMode),n(l,5,0,l.context.$implicit.label)}))}function Gn(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,3,"button",[["class","btn"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.nextStepClick()&&t),t}),V.b,V.a)),t.Db(1,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Yb(2,0,[" "," "])),t.Ub(3,1)],null,(function(n,l){var e=l.component;n(l,0,0,t.Qb(l,1).disabled||null,"NoopAnimations"===t.Qb(l,1)._animationMode);var a=t.Zb(l,2,0,n(l,3,0,t.Qb(l.parent,0),e.currentStepIndex<1?"global.next":e.update?"global.edit":"global.create"));n(l,2,0,a)}))}function Bn(n){return t.ac(0,[t.Sb(0,f.i,[f.e,f.b,f.d]),t.Wb(671088640,1,{matStepper:0}),(n()(),t.Eb(2,0,null,null,111,"div",[["class","form"]],null,null,null,null,null)),(n()(),t.Eb(3,0,null,null,1,"vd-header",[],null,null,null,o.b,o.a)),t.Db(4,114688,null,0,r.a,[],{pageName:[0,"pageName"]},null),(n()(),t.Eb(5,0,null,null,108,"div",[["class","container"]],null,null,null,null,null)),(n()(),t.Eb(6,0,null,null,100,"mat-horizontal-stepper",[["aria-orientation","horizontal"],["class","mat-stepper-horizontal"],["role","tablist"]],[[2,"mat-stepper-label-position-end",null],[2,"mat-stepper-label-position-bottom",null]],[[null,"selectionChange"]],(function(n,l,e){var t=!0;return"selectionChange"===l&&(t=!1!==n.component.onStepChange(e)&&t),t}),En.c,En.a)),t.Vb(6144,null,Dn.d,null,[In.b]),t.Db(8,5423104,[[1,4],["stepper",4]],2,In.b,[[2,G.b],t.i,t.n,$.d],{linear:[0,"linear"]},{selectionChange:"selectionChange"}),t.Wb(603979776,2,{_steps:1}),t.Wb(603979776,3,{_icons:1}),t.Vb(2048,null,In.e,null,[In.b]),(n()(),t.Eb(12,0,null,null,83,"mat-step",[],null,null,null,En.d,En.b)),t.Db(13,573440,[[2,4]],1,In.c,[In.e,[1,Fn.d],[2,Dn.h]],{stepControl:[0,"stepControl"],label:[1,"label"]},null),t.Wb(603979776,4,{stepLabel:0}),t.Ub(15,1),t.Vb(2048,null,Fn.d,null,[In.c]),(n()(),t.Eb(17,0,null,0,68,"form",[["id","profile"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var a=!0;return"submit"===l&&(a=!1!==t.Qb(n,19).onSubmit(e)&&a),"reset"===l&&(a=!1!==t.Qb(n,19).onReset()&&a),a}),null,null)),t.Db(18,16384,null,0,Mn.z,[],null,null),t.Db(19,540672,null,0,Mn.h,[[8,null],[8,null]],{form:[0,"form"]},null),t.Vb(2048,null,Mn.c,null,[Mn.h]),t.Db(21,16384,null,0,Mn.o,[[4,Mn.c]],null,null),(n()(),t.Eb(22,0,null,null,63,"div",[["class","infos-basic"]],null,null,null,null,null)),(n()(),t.Eb(23,0,null,null,31,"div",[["class","name"]],null,null,null,null,null)),(n()(),t.Eb(24,0,null,null,3,"mat-label",[],null,null,null,null,null)),t.Db(25,16384,null,0,Vn.f,[],null,null),(n()(),t.Yb(26,null,["",""])),t.Ub(27,1),(n()(),t.Eb(28,0,null,null,26,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(29,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,5,{_controlNonStatic:0}),t.Wb(335544320,6,{_controlStatic:0}),t.Wb(603979776,7,{_labelChildNonStatic:0}),t.Wb(335544320,8,{_labelChildStatic:0}),t.Wb(603979776,9,{_placeholderChild:0}),t.Wb(603979776,10,{_errorChildren:1}),t.Wb(603979776,11,{_hintChildren:1}),t.Wb(603979776,12,{_prefixChildren:1}),t.Wb(603979776,13,{_suffixChildren:1}),(n()(),t.Eb(39,0,null,1,11,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["id","name"],["matInput",""],["name","name"],["pattern","[a-zA-Z0-9 ]+"],["required",""],["type","text"]],[[1,"required",0],[1,"pattern",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,e){var a=!0;return"input"===l&&(a=!1!==t.Qb(n,43)._handleInput(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,43).onTouched()&&a),"compositionstart"===l&&(a=!1!==t.Qb(n,43)._compositionStart()&&a),"compositionend"===l&&(a=!1!==t.Qb(n,43)._compositionEnd(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,47)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.Qb(n,47)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.Qb(n,47)._onInput()&&a),a}),null,null)),t.Db(40,16384,null,0,Mn.u,[],{required:[0,"required"]},null),t.Db(41,540672,null,0,Mn.s,[],{pattern:[0,"pattern"]},null),t.Vb(1024,null,Mn.k,(function(n,l){return[n,l]}),[Mn.u,Mn.s]),t.Db(43,16384,null,0,Mn.d,[t.N,t.n,[2,Mn.a]],null,null),t.Vb(1024,null,Mn.l,(function(n){return[n]}),[Mn.d]),t.Db(45,671744,null,0,Mn.g,[[3,Mn.c],[6,Mn.k],[8,null],[6,Mn.l],[2,Mn.y]],{name:[0,"name"]},null),t.Vb(2048,null,Mn.m,null,[Mn.g]),t.Db(47,999424,null,0,Tn.a,[t.n,Wn.a,[6,Mn.m],[2,Mn.p],[2,Mn.h],Fn.d,[8,null],qn.a,t.G],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t.Ub(48,1),t.Db(49,16384,null,0,Mn.n,[[4,Mn.m]],null,null),t.Vb(2048,[[5,4],[6,4]],Vn.d,null,[Tn.a]),(n()(),t.Eb(51,0,null,5,3,"mat-error",[["class","error mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.Db(52,16384,[[10,4]],0,Vn.b,[],null,null),(n()(),t.Yb(53,null,[" "," "])),t.Ub(54,1),(n()(),t.Eb(55,0,null,null,30,"div",[["class","description"]],null,null,null,null,null)),(n()(),t.Eb(56,0,null,null,3,"mat-label",[],null,null,null,null,null)),t.Db(57,16384,null,0,Vn.f,[],null,null),(n()(),t.Yb(58,null,["",""])),t.Ub(59,1),(n()(),t.Eb(60,0,null,null,25,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(61,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,14,{_controlNonStatic:0}),t.Wb(335544320,15,{_controlStatic:0}),t.Wb(603979776,16,{_labelChildNonStatic:0}),t.Wb(335544320,17,{_labelChildStatic:0}),t.Wb(603979776,18,{_placeholderChild:0}),t.Wb(603979776,19,{_errorChildren:1}),t.Wb(603979776,20,{_hintChildren:1}),t.Wb(603979776,21,{_prefixChildren:1}),t.Wb(603979776,22,{_suffixChildren:1}),(n()(),t.Eb(71,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","description"],["id","description"],["matInput",""],["name","description"],["required",""],["type","text"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,e){var a=!0;return"input"===l&&(a=!1!==t.Qb(n,74)._handleInput(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,74).onTouched()&&a),"compositionstart"===l&&(a=!1!==t.Qb(n,74)._compositionStart()&&a),"compositionend"===l&&(a=!1!==t.Qb(n,74)._compositionEnd(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,78)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.Qb(n,78)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.Qb(n,78)._onInput()&&a),a}),null,null)),t.Db(72,16384,null,0,Mn.u,[],{required:[0,"required"]},null),t.Vb(1024,null,Mn.k,(function(n){return[n]}),[Mn.u]),t.Db(74,16384,null,0,Mn.d,[t.N,t.n,[2,Mn.a]],null,null),t.Vb(1024,null,Mn.l,(function(n){return[n]}),[Mn.d]),t.Db(76,671744,null,0,Mn.g,[[3,Mn.c],[6,Mn.k],[8,null],[6,Mn.l],[2,Mn.y]],{name:[0,"name"]},null),t.Vb(2048,null,Mn.m,null,[Mn.g]),t.Db(78,999424,null,0,Tn.a,[t.n,Wn.a,[6,Mn.m],[2,Mn.p],[2,Mn.h],Fn.d,[8,null],qn.a,t.G],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t.Ub(79,1),t.Db(80,16384,null,0,Mn.n,[[4,Mn.m]],null,null),t.Vb(2048,[[14,4],[15,4]],Vn.d,null,[Tn.a]),(n()(),t.Eb(82,0,null,5,3,"mat-error",[["class","error mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.Db(83,16384,[[19,4]],0,Vn.b,[],null,null),(n()(),t.Yb(84,null,[" "," "])),t.Ub(85,1),(n()(),t.Eb(86,0,null,0,9,"div",[["class","infos-profile"]],null,null,null,null,null)),(n()(),t.Eb(87,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t.Yb(88,null,["",""])),t.Ub(89,1),(n()(),t.Eb(90,0,null,null,5,"mat-accordion",[["class","mat-accordion"]],null,null,null,null,null)),t.Vb(6144,null,Sn.a,null,[Sn.c]),t.Db(92,1720320,null,1,Sn.c,[],{multi:[0,"multi"]},null),t.Wb(603979776,23,{_headers:1}),(n()(),t.ub(16777216,null,null,1,null,Yn)),t.Db(95,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null),(n()(),t.Eb(96,0,null,null,10,"mat-step",[],null,null,null,En.d,En.b)),t.Vb(6144,null,Fn.d,null,[In.c]),t.Db(98,573440,[[2,4]],1,In.c,[In.e,[1,Fn.d],[2,Dn.h]],{label:[0,"label"]},null),t.Wb(603979776,25,{stepLabel:0}),t.Ub(100,1),(n()(),t.Eb(101,0,null,0,5,"div",[["class","step"]],null,null,null,null,null)),(n()(),t.Eb(102,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t.Yb(103,null,["",""])),t.Ub(104,1),(n()(),t.ub(16777216,null,null,1,null,$n)),t.Db(106,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null),(n()(),t.Eb(107,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(n()(),t.Eb(108,0,null,null,3,"button",[["class","btn stroked"],["id","cancel"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.previousStepClick()&&t),t}),V.b,V.a)),t.Db(109,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Yb(110,0,[" "," "])),t.Ub(111,1),(n()(),t.ub(16777216,null,null,1,null,Gn)),t.Db(113,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,4,0,e.pageName),n(l,8,0,!0);var a=e.profileForm,i=t.Ib(1,"",t.Zb(l,13,1,n(l,15,0,t.Qb(l,0),"admin.profile.infos.step")),"");n(l,13,0,a,i),n(l,19,0,e.profileForm),n(l,29,0,"outline"),n(l,40,0,""),n(l,41,0,"[a-zA-Z0-9 ]+"),n(l,45,0,"name");var o=t.Ib(1,"",t.Zb(l,47,1,n(l,48,0,t.Qb(l,0),"admin.profile.infos.name_hint")),"");n(l,47,0,"name",o,"","text"),n(l,61,0,"outline"),n(l,72,0,""),n(l,76,0,"description");var r=t.Ib(1,"",t.Zb(l,78,1,n(l,79,0,t.Qb(l,0),"admin.profile.infos.description_hint")),"");n(l,78,0,"description",r,"","text"),n(l,92,0,!0),n(l,95,0,e.allPermissions);var u=t.Ib(1,"",t.Zb(l,98,0,n(l,100,0,t.Qb(l,0),"admin.profile.views.step")),"");n(l,98,0,u),n(l,106,0,e.allViews),n(l,113,0,e.profileForm.valid&&e.permissionsChecked())}),(function(n,l){var e=l.component;n(l,6,0,"end"==t.Qb(l,8).labelPosition,"bottom"==t.Qb(l,8).labelPosition),n(l,17,0,t.Qb(l,21).ngClassUntouched,t.Qb(l,21).ngClassTouched,t.Qb(l,21).ngClassPristine,t.Qb(l,21).ngClassDirty,t.Qb(l,21).ngClassValid,t.Qb(l,21).ngClassInvalid,t.Qb(l,21).ngClassPending);var a=t.Zb(l,26,0,n(l,27,0,t.Qb(l,0),"admin.profile.infos.name"));n(l,26,0,a),n(l,28,1,["standard"==t.Qb(l,29).appearance,"fill"==t.Qb(l,29).appearance,"outline"==t.Qb(l,29).appearance,"legacy"==t.Qb(l,29).appearance,t.Qb(l,29)._control.errorState,t.Qb(l,29)._canLabelFloat,t.Qb(l,29)._shouldLabelFloat(),t.Qb(l,29)._hasFloatingLabel(),t.Qb(l,29)._hideControlPlaceholder(),t.Qb(l,29)._control.disabled,t.Qb(l,29)._control.autofilled,t.Qb(l,29)._control.focused,"accent"==t.Qb(l,29).color,"warn"==t.Qb(l,29).color,t.Qb(l,29)._shouldForward("untouched"),t.Qb(l,29)._shouldForward("touched"),t.Qb(l,29)._shouldForward("pristine"),t.Qb(l,29)._shouldForward("dirty"),t.Qb(l,29)._shouldForward("valid"),t.Qb(l,29)._shouldForward("invalid"),t.Qb(l,29)._shouldForward("pending"),!t.Qb(l,29)._animationsEnabled]),n(l,39,1,[t.Qb(l,40).required?"":null,t.Qb(l,41).pattern?t.Qb(l,41).pattern:null,t.Qb(l,47)._isServer,t.Qb(l,47).id,t.Qb(l,47).placeholder,t.Qb(l,47).disabled,t.Qb(l,47).required,t.Qb(l,47).readonly&&!t.Qb(l,47)._isNativeSelect||null,t.Qb(l,47)._ariaDescribedby||null,t.Qb(l,47).errorState,t.Qb(l,47).required.toString(),t.Qb(l,49).ngClassUntouched,t.Qb(l,49).ngClassTouched,t.Qb(l,49).ngClassPristine,t.Qb(l,49).ngClassDirty,t.Qb(l,49).ngClassValid,t.Qb(l,49).ngClassInvalid,t.Qb(l,49).ngClassPending]),n(l,51,0,t.Qb(l,52).id);var i=t.Zb(l,53,0,n(l,54,0,t.Qb(l,0),"admin.profile.infos.name_error"));n(l,53,0,i);var o=t.Zb(l,58,0,n(l,59,0,t.Qb(l,0),"admin.profile.infos.description"));n(l,58,0,o),n(l,60,1,["standard"==t.Qb(l,61).appearance,"fill"==t.Qb(l,61).appearance,"outline"==t.Qb(l,61).appearance,"legacy"==t.Qb(l,61).appearance,t.Qb(l,61)._control.errorState,t.Qb(l,61)._canLabelFloat,t.Qb(l,61)._shouldLabelFloat(),t.Qb(l,61)._hasFloatingLabel(),t.Qb(l,61)._hideControlPlaceholder(),t.Qb(l,61)._control.disabled,t.Qb(l,61)._control.autofilled,t.Qb(l,61)._control.focused,"accent"==t.Qb(l,61).color,"warn"==t.Qb(l,61).color,t.Qb(l,61)._shouldForward("untouched"),t.Qb(l,61)._shouldForward("touched"),t.Qb(l,61)._shouldForward("pristine"),t.Qb(l,61)._shouldForward("dirty"),t.Qb(l,61)._shouldForward("valid"),t.Qb(l,61)._shouldForward("invalid"),t.Qb(l,61)._shouldForward("pending"),!t.Qb(l,61)._animationsEnabled]),n(l,71,1,[t.Qb(l,72).required?"":null,t.Qb(l,78)._isServer,t.Qb(l,78).id,t.Qb(l,78).placeholder,t.Qb(l,78).disabled,t.Qb(l,78).required,t.Qb(l,78).readonly&&!t.Qb(l,78)._isNativeSelect||null,t.Qb(l,78)._ariaDescribedby||null,t.Qb(l,78).errorState,t.Qb(l,78).required.toString(),t.Qb(l,80).ngClassUntouched,t.Qb(l,80).ngClassTouched,t.Qb(l,80).ngClassPristine,t.Qb(l,80).ngClassDirty,t.Qb(l,80).ngClassValid,t.Qb(l,80).ngClassInvalid,t.Qb(l,80).ngClassPending]),n(l,82,0,t.Qb(l,83).id);var r=t.Zb(l,84,0,n(l,85,0,t.Qb(l,0),"admin.profile.infos.description_error"));n(l,84,0,r);var u=t.Zb(l,88,0,n(l,89,0,t.Qb(l,0),"admin.profile.infos.title"));n(l,88,0,u);var c=t.Zb(l,103,0,n(l,104,0,t.Qb(l,0),"admin.profile.views.title"));n(l,103,0,c),n(l,108,0,t.Qb(l,109).disabled||null,"NoopAnimations"===t.Qb(l,109)._animationMode);var s=t.Zb(l,110,0,n(l,111,0,t.Qb(l,0),e.currentStepIndex<1?"global.cancel":"global.back"));n(l,110,0,s)}))}function Hn(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"vd-profile-form",[],null,null,null,Bn,Rn)),t.Db(1,4308992,null,0,An,[zn,D,P,f.j,x.l,_.e,Mn.f,x.a],null,null)],(function(n,l){n(l,1,0)}),null)}var Jn=t.Ab("vd-profile-form",An,Hn,{},{},[]);class Kn{constructor(n,l,e,t,a,i,o){this.route=n,this.router=l,this.formBuilder=e,this.i18nextService=t,this.profilesService=a,this.dialog=i,this.usersService=o,this.update=!1}buildForm(){this.userForm=this.formBuilder.group({identifier:[this.identifier,Mn.v.required],password:[]})}ngOnInit(){this.pageName=this.i18nextService.t("global.pages.name.user"),this.route.params.subscribe(n=>{if(n.hasOwnProperty("user")){this.update=!0;const l=JSON.parse(n.user);this.identifier=l.username,this.id=l._id,this.selectedProfiles=l.profiles}}),this.buildForm()}ngAfterViewInit(){this.profilesService.getAll().subscribe(n=>{if(n&&n.data&&n.data.result){this.profileList=[];for(const l of n.data.result){const n=(new Zn).deserialize(l);n.checked=!!this.selectedProfiles&&this.selectedProfiles.some(l=>l._id===n._id),this.profileList.push(n)}}})}onProfileCheck(n,l){this.profileList[l].checked=n.checked}profileChecked(){return this.update||this.profileList.some(n=>n.checked)}onCancel(){this.dialog.open(p.a,{data:{important:!0,message:this.i18nextService.t("global.action.cancel")},width:"520px",height:"auto",autoFocus:!1}).afterClosed().subscribe(n=>{n&&this.router.navigate(["/admin"])})}onSubmit(){if(this.userForm.valid){const n={username:this.userForm.controls.identifier.value,password:this.userForm.controls.password.value,profiles:this.profileList.filter(n=>n.checked)};let l;(l=this.update?this.usersService.editUser(this.id,n):this.usersService.create(n)).subscribe(n=>{n&&200===n.code?this.router.navigate(["admin"]):console.error(n.message)})}}}var Xn=t.Cb({encapsulation:0,styles:[[".form[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   vd-header[_ngcontent-%COMP%]{order:1}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;order:2;background-color:#fff;padding:20px 28px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #user[_ngcontent-%COMP%]{width:100%;height:100%}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #user[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #user[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#152935;font-family:OpenSans;font-size:14px;letter-spacing:0;line-height:17.09px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #user[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-top:7px;width:100%;font-family:OpenSans;font-size:18px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #user[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-outline{top:0;color:#9aa7b6}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #user[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:0}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #user[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #user[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #user[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #user[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #user[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#ed1c2c;font-size:10px;margin-top:0}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .infos-user[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#152935;font-family:OpenSans;font-size:14px;letter-spacing:0;line-height:17.09px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .infos-user-profile[_ngcontent-%COMP%]{margin-bottom:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .infos-user-profile_label[_ngcontent-%COMP%]{color:#152935;font-family:OpenSans;font-size:14px;letter-spacing:0;line-height:17.09px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{font-size:16px;padding:5px 30px;background-color:#f7f7f7;font-weight:700;color:#152935}.form[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]{margin:0 0 0 24px;width:auto}.form[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 15px;display:flex;flex-direction:row;align-items:center}.form[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:40px;width:200px;border-radius:20px;font-family:OpenSans;font-size:14px;cursor:pointer;outline:0;line-height:17px;background-color:#134e91;color:#fff}.form[_ngcontent-%COMP%]   .btn.stroked[_ngcontent-%COMP%]{border-color:#134e91;background-color:#fff;color:#134e91;border-width:2px}.form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-top:2px solid rgba(16,76,144,.1);margin:64px -28px 0;padding:22px 0}.form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #cancel[_ngcontent-%COMP%]{margin:0 0 0 24px}.form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #submit[_ngcontent-%COMP%]{margin:0 24px 0 0}mat-checkbox[_ngcontent-%COMP%]{margin-right:12px}mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-inner-container[_ngcontent-%COMP%]{height:18px;width:18px} .mat-checkbox-checked.mat-accent .mat-checkbox-background,  .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background{background-color:#004289}"]],data:{}});function nl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,5,"div",[["class","infos-user-profile"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,2,"mat-checkbox",[["class","checkbox mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onProfileCheck(e,n.context.index)&&t),t}),xn.b,xn.a)),t.Vb(5120,null,Mn.l,(function(n){return[n]}),[wn.b]),t.Db(3,8568832,null,0,wn.b,[t.n,t.i,W.h,t.G,[8,null],[2,wn.a],[2,T.a]],{disableRipple:[0,"disableRipple"],color:[1,"color"],checked:[2,"checked"]},{change:"change"}),(n()(),t.Eb(4,0,null,null,1,"span",[["class","infos-user-profile_label"]],null,null,null,null,null)),(n()(),t.Yb(5,null,["",""]))],(function(n,l){n(l,3,0,!0,"primary",l.context.$implicit.checked)}),(function(n,l){n(l,1,0,t.Qb(l,3).id,null,t.Qb(l,3).indeterminate,t.Qb(l,3).checked,t.Qb(l,3).disabled,"before"==t.Qb(l,3).labelPosition,"NoopAnimations"===t.Qb(l,3)._animationMode),n(l,5,0,l.context.$implicit.label)}))}function ll(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,3,"button",[["class","btn"],["id","submit"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onSubmit()&&t),t}),V.b,V.a)),t.Db(1,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Yb(2,0,[" "," "])),t.Ub(3,1)],null,(function(n,l){var e=l.component;n(l,0,0,t.Qb(l,1).disabled||null,"NoopAnimations"===t.Qb(l,1)._animationMode);var a=t.Zb(l,2,0,n(l,3,0,t.Qb(l.parent,0),e.update?"global.edit":"global.create"));n(l,2,0,a)}))}function el(n){return t.ac(0,[t.Sb(0,f.i,[f.e,f.b,f.d]),(n()(),t.Eb(1,0,null,null,81,"div",[["class","form"]],null,null,null,null,null)),(n()(),t.Eb(2,0,null,null,1,"vd-header",[],null,null,null,o.b,o.a)),t.Db(3,114688,null,0,r.a,[],{pageName:[0,"pageName"]},null),(n()(),t.Eb(4,0,null,null,78,"div",[["class","container"]],null,null,null,null,null)),(n()(),t.Eb(5,0,null,null,64,"form",[["id","user"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var a=!0;return"submit"===l&&(a=!1!==t.Qb(n,7).onSubmit(e)&&a),"reset"===l&&(a=!1!==t.Qb(n,7).onReset()&&a),a}),null,null)),t.Db(6,16384,null,0,Mn.z,[],null,null),t.Db(7,540672,null,0,Mn.h,[[8,null],[8,null]],{form:[0,"form"]},null),t.Vb(2048,null,Mn.c,null,[Mn.h]),t.Db(9,16384,null,0,Mn.o,[[4,Mn.c]],null,null),(n()(),t.Eb(10,0,null,null,59,"div",[["class","infos-basic"]],null,null,null,null,null)),(n()(),t.Eb(11,0,null,null,31,"div",[["class","identifier"]],null,null,null,null,null)),(n()(),t.Eb(12,0,null,null,3,"mat-label",[],null,null,null,null,null)),t.Db(13,16384,null,0,Vn.f,[],null,null),(n()(),t.Yb(14,null,["",""])),t.Ub(15,1),(n()(),t.Eb(16,0,null,null,26,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(17,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,1,{_controlNonStatic:0}),t.Wb(335544320,2,{_controlStatic:0}),t.Wb(603979776,3,{_labelChildNonStatic:0}),t.Wb(335544320,4,{_labelChildStatic:0}),t.Wb(603979776,5,{_placeholderChild:0}),t.Wb(603979776,6,{_errorChildren:1}),t.Wb(603979776,7,{_hintChildren:1}),t.Wb(603979776,8,{_prefixChildren:1}),t.Wb(603979776,9,{_suffixChildren:1}),(n()(),t.Eb(27,0,null,1,11,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","identifier"],["id","identifier"],["matInput",""],["name","identifier"],["pattern","[a-z.-]+"],["required",""],["type","text"]],[[1,"required",0],[1,"pattern",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,e){var a=!0;return"input"===l&&(a=!1!==t.Qb(n,31)._handleInput(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,31).onTouched()&&a),"compositionstart"===l&&(a=!1!==t.Qb(n,31)._compositionStart()&&a),"compositionend"===l&&(a=!1!==t.Qb(n,31)._compositionEnd(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,35)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.Qb(n,35)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.Qb(n,35)._onInput()&&a),a}),null,null)),t.Db(28,16384,null,0,Mn.u,[],{required:[0,"required"]},null),t.Db(29,540672,null,0,Mn.s,[],{pattern:[0,"pattern"]},null),t.Vb(1024,null,Mn.k,(function(n,l){return[n,l]}),[Mn.u,Mn.s]),t.Db(31,16384,null,0,Mn.d,[t.N,t.n,[2,Mn.a]],null,null),t.Vb(1024,null,Mn.l,(function(n){return[n]}),[Mn.d]),t.Db(33,671744,null,0,Mn.g,[[3,Mn.c],[6,Mn.k],[8,null],[6,Mn.l],[2,Mn.y]],{name:[0,"name"]},null),t.Vb(2048,null,Mn.m,null,[Mn.g]),t.Db(35,999424,null,0,Tn.a,[t.n,Wn.a,[6,Mn.m],[2,Mn.p],[2,Mn.h],Fn.d,[8,null],qn.a,t.G],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t.Ub(36,1),t.Db(37,16384,null,0,Mn.n,[[4,Mn.m]],null,null),t.Vb(2048,[[1,4],[2,4]],Vn.d,null,[Tn.a]),(n()(),t.Eb(39,0,null,5,3,"mat-error",[["class","error mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.Db(40,16384,[[6,4]],0,Vn.b,[],null,null),(n()(),t.Yb(41,null,[" "," "])),t.Ub(42,1),(n()(),t.Eb(43,0,null,null,26,"div",[["class","password"]],null,null,null,null,null)),(n()(),t.Eb(44,0,null,null,3,"mat-label",[],null,null,null,null,null)),t.Db(45,16384,null,0,Vn.f,[],null,null),(n()(),t.Yb(46,null,["",""])),t.Ub(47,1),(n()(),t.Eb(48,0,null,null,21,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(49,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,10,{_controlNonStatic:0}),t.Wb(335544320,11,{_controlStatic:0}),t.Wb(603979776,12,{_labelChildNonStatic:0}),t.Wb(335544320,13,{_labelChildStatic:0}),t.Wb(603979776,14,{_placeholderChild:0}),t.Wb(603979776,15,{_errorChildren:1}),t.Wb(603979776,16,{_hintChildren:1}),t.Wb(603979776,17,{_prefixChildren:1}),t.Wb(603979776,18,{_suffixChildren:1}),(n()(),t.Eb(59,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","password"],["id","password"],["matInput",""],["name","password"],["type","password"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,e){var a=!0;return"input"===l&&(a=!1!==t.Qb(n,62)._handleInput(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,62).onTouched()&&a),"compositionstart"===l&&(a=!1!==t.Qb(n,62)._compositionStart()&&a),"compositionend"===l&&(a=!1!==t.Qb(n,62)._compositionEnd(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,66)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.Qb(n,66)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.Qb(n,66)._onInput()&&a),a}),null,null)),t.Db(60,16384,null,0,Mn.u,[],{required:[0,"required"]},null),t.Vb(1024,null,Mn.k,(function(n){return[n]}),[Mn.u]),t.Db(62,16384,null,0,Mn.d,[t.N,t.n,[2,Mn.a]],null,null),t.Vb(1024,null,Mn.l,(function(n){return[n]}),[Mn.d]),t.Db(64,671744,null,0,Mn.g,[[3,Mn.c],[6,Mn.k],[8,null],[6,Mn.l],[2,Mn.y]],{name:[0,"name"]},null),t.Vb(2048,null,Mn.m,null,[Mn.g]),t.Db(66,999424,null,0,Tn.a,[t.n,Wn.a,[6,Mn.m],[2,Mn.p],[2,Mn.h],Fn.d,[8,null],qn.a,t.G],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t.Ub(67,1),t.Db(68,16384,null,0,Mn.n,[[4,Mn.m]],null,null),t.Vb(2048,[[10,4],[11,4]],Vn.d,null,[Tn.a]),(n()(),t.Eb(70,0,null,null,5,"div",[["class","infos-user"]],null,null,null,null,null)),(n()(),t.Eb(71,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t.Yb(72,null,["",""])),t.Ub(73,1),(n()(),t.ub(16777216,null,null,1,null,nl)),t.Db(75,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null),(n()(),t.Eb(76,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(n()(),t.Eb(77,0,null,null,3,"button",[["class","btn stroked"],["id","cancel"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onCancel()&&t),t}),V.b,V.a)),t.Db(78,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Yb(79,0,[" "," "])),t.Ub(80,1),(n()(),t.ub(16777216,null,null,1,null,ll)),t.Db(82,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,3,0,e.pageName),n(l,7,0,e.userForm),n(l,17,0,"outline"),n(l,28,0,""),n(l,29,0,"[a-z.-]+"),n(l,33,0,"identifier");var a=t.Ib(1,"",t.Zb(l,35,1,n(l,36,0,t.Qb(l,0),"admin.user.infos.name_hint")),"");n(l,35,0,"identifier",a,"","text"),n(l,49,0,"outline"),n(l,60,0,!e.update),n(l,64,0,"password");var i=t.Ib(1,"",t.Zb(l,66,1,n(l,67,0,t.Qb(l,0),"admin.user.infos.password_hint")),"");n(l,66,0,"password",i,!e.update,"password"),n(l,75,0,e.profileList),n(l,82,0,e.userForm.valid&&e.profileChecked())}),(function(n,l){n(l,5,0,t.Qb(l,9).ngClassUntouched,t.Qb(l,9).ngClassTouched,t.Qb(l,9).ngClassPristine,t.Qb(l,9).ngClassDirty,t.Qb(l,9).ngClassValid,t.Qb(l,9).ngClassInvalid,t.Qb(l,9).ngClassPending);var e=t.Zb(l,14,0,n(l,15,0,t.Qb(l,0),"admin.user.infos.name"));n(l,14,0,e),n(l,16,1,["standard"==t.Qb(l,17).appearance,"fill"==t.Qb(l,17).appearance,"outline"==t.Qb(l,17).appearance,"legacy"==t.Qb(l,17).appearance,t.Qb(l,17)._control.errorState,t.Qb(l,17)._canLabelFloat,t.Qb(l,17)._shouldLabelFloat(),t.Qb(l,17)._hasFloatingLabel(),t.Qb(l,17)._hideControlPlaceholder(),t.Qb(l,17)._control.disabled,t.Qb(l,17)._control.autofilled,t.Qb(l,17)._control.focused,"accent"==t.Qb(l,17).color,"warn"==t.Qb(l,17).color,t.Qb(l,17)._shouldForward("untouched"),t.Qb(l,17)._shouldForward("touched"),t.Qb(l,17)._shouldForward("pristine"),t.Qb(l,17)._shouldForward("dirty"),t.Qb(l,17)._shouldForward("valid"),t.Qb(l,17)._shouldForward("invalid"),t.Qb(l,17)._shouldForward("pending"),!t.Qb(l,17)._animationsEnabled]),n(l,27,1,[t.Qb(l,28).required?"":null,t.Qb(l,29).pattern?t.Qb(l,29).pattern:null,t.Qb(l,35)._isServer,t.Qb(l,35).id,t.Qb(l,35).placeholder,t.Qb(l,35).disabled,t.Qb(l,35).required,t.Qb(l,35).readonly&&!t.Qb(l,35)._isNativeSelect||null,t.Qb(l,35)._ariaDescribedby||null,t.Qb(l,35).errorState,t.Qb(l,35).required.toString(),t.Qb(l,37).ngClassUntouched,t.Qb(l,37).ngClassTouched,t.Qb(l,37).ngClassPristine,t.Qb(l,37).ngClassDirty,t.Qb(l,37).ngClassValid,t.Qb(l,37).ngClassInvalid,t.Qb(l,37).ngClassPending]),n(l,39,0,t.Qb(l,40).id);var a=t.Zb(l,41,0,n(l,42,0,t.Qb(l,0),"admin.user.infos.name_error"));n(l,41,0,a);var i=t.Zb(l,46,0,n(l,47,0,t.Qb(l,0),"admin.user.infos.password"));n(l,46,0,i),n(l,48,1,["standard"==t.Qb(l,49).appearance,"fill"==t.Qb(l,49).appearance,"outline"==t.Qb(l,49).appearance,"legacy"==t.Qb(l,49).appearance,t.Qb(l,49)._control.errorState,t.Qb(l,49)._canLabelFloat,t.Qb(l,49)._shouldLabelFloat(),t.Qb(l,49)._hasFloatingLabel(),t.Qb(l,49)._hideControlPlaceholder(),t.Qb(l,49)._control.disabled,t.Qb(l,49)._control.autofilled,t.Qb(l,49)._control.focused,"accent"==t.Qb(l,49).color,"warn"==t.Qb(l,49).color,t.Qb(l,49)._shouldForward("untouched"),t.Qb(l,49)._shouldForward("touched"),t.Qb(l,49)._shouldForward("pristine"),t.Qb(l,49)._shouldForward("dirty"),t.Qb(l,49)._shouldForward("valid"),t.Qb(l,49)._shouldForward("invalid"),t.Qb(l,49)._shouldForward("pending"),!t.Qb(l,49)._animationsEnabled]),n(l,59,1,[t.Qb(l,60).required?"":null,t.Qb(l,66)._isServer,t.Qb(l,66).id,t.Qb(l,66).placeholder,t.Qb(l,66).disabled,t.Qb(l,66).required,t.Qb(l,66).readonly&&!t.Qb(l,66)._isNativeSelect||null,t.Qb(l,66)._ariaDescribedby||null,t.Qb(l,66).errorState,t.Qb(l,66).required.toString(),t.Qb(l,68).ngClassUntouched,t.Qb(l,68).ngClassTouched,t.Qb(l,68).ngClassPristine,t.Qb(l,68).ngClassDirty,t.Qb(l,68).ngClassValid,t.Qb(l,68).ngClassInvalid,t.Qb(l,68).ngClassPending]);var o=t.Zb(l,72,0,n(l,73,0,t.Qb(l,0),"admin.user.infos.title"));n(l,72,0,o),n(l,77,0,t.Qb(l,78).disabled||null,"NoopAnimations"===t.Qb(l,78)._animationMode);var r=t.Zb(l,79,0,n(l,80,0,t.Qb(l,0),"global.cancel"));n(l,79,0,r)}))}function tl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"vd-user-form",[],null,null,null,el,Xn)),t.Db(1,4308992,null,0,Kn,[x.a,x.l,Mn.f,f.j,P,_.e,C.a],null,null)],(function(n,l){n(l,1,0)}),null)}var al=t.Ab("vd-user-form",Kn,tl,{},{},[]),il=e("MlvX"),ol=e("Azqq"),rl=e("JjoW"),ul=e("hOhj");class cl{constructor(n,l,e){this.conditionsService=n,this.dialogRef=l,this.data=e,this.conditions=[],this.send=!1,this.options=[],this.loading=!1,this.selectedConditions=[],this.multiple=!0}ngOnInit(){this.data&&(this.data.hasOwnProperty("multiple")&&(this.multiple=this.data.multiple),this.data.hasOwnProperty("entries")&&(this.selectedConditions=[...this.data.entries])),this.getConditions()}getConditions(){this.loading=!0,this.conditionsService.getConditions().subscribe(n=>{this.loading=!1,this.conditions=n.data},n=>{console.error(n),this.loading=!1})}isChecked(n){let l=!1;if(this.selectedConditions&&this.selectedConditions.length>0)return this.selectedConditions.forEach(e=>{e.rule===n&&(l=!0)}),l}onChange(n){let l=[...this.selectedConditions];this.containsObject(n,l)?l.forEach((e,t)=>{e.rule===n.rule&&l.splice(t,1)}):this.multiple?l.push(n):l=[n],this.selectedConditions=[...l]}containsObject(n,l){return l.some(l=>l.rule===n.rule)}sendVariables(){this.dialogRef.close(this.selectedConditions)}}var sl=e("krUq"),dl=e("2uf4");class bl{constructor(n){this.dialog=n,this.types=[dl.a.DEFAULT,dl.a.ALERT,dl.a.MACHINE,dl.a.CONDITION],this.addVariableStr="admin.view.cards.add_variables",this.addConditionStr="admin.view.cards.add_conditions",this.cardChange=new t.p,this.typeIndex=-1,this.cardTypesStr=["admin.cards.types.default","admin.cards.types.alert","admin.cards.types.machine","admin.cards.types.condition"],this.addStr=this.addVariableStr,this.choices=[]}set card(n){this._card=n,this.choices=this._card.variables}get card(){return this._card}ngOnInit(){}onNameChange(n){this.card.label=n.target.value,this.cardChange.emit(this.card)}onTypeSelection(n){this.typeIndex=this.cardTypesStr.indexOf(n.value),this.addStr=this.typeIndex<3?this.addVariableStr:this.addConditionStr,this.card.type=this.types[this.typeIndex],this.card.variables=[],this.choices=[],this.cardChange.emit(this.card)}addVariables(){let n=sl.a;3===this.typeIndex&&(n=cl),this.dialog.open(n,{data:{type:this.card.type,multiple:!0,entries:this.choices},width:"928px",height:"560px",autoFocus:!1}).afterClosed().subscribe(n=>{n&&Array.isArray(n)&&n.length>0&&(this.card.variables=n,this.choices=n,this.cardChange.emit(this.card))})}up(n){Object(Y.k)(this.choices,n,n-1),this.card.variables=this.choices,this.cardChange.emit(this.card)}down(n){Object(Y.k)(this.choices,n,n+1),this.card.variables=this.choices,this.cardChange.emit(this.card)}remove(n){this.choices.splice(n,1),this.card.variables=this.choices,this.cardChange.emit(this.card)}}var pl=t.Cb({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{height:400px;border-radius:6px;box-shadow:0 1px 4px 0 rgba(0,0,0,.3);padding:25px 25px 0}.container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{display:flex;flex-direction:row}.container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:calc(50% - 20px);font-family:OpenSans;font-size:18px;margin:0 10px}.container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-flex{max-height:40px;min-height:40px}.container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-outline{top:0;color:#9aa7b6}.container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:0;padding:.5em 0}.container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder, .container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]    .mat-select-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder, .container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]    .mat-select-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-ms-input-placeholder, .container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]    .mat-select-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]    .mat-select-placeholder, .container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.container[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]    .mat-select-arrow-wrapper{height:40px}.container[_ngcontent-%COMP%]   .choices[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{overflow-x:hidden}.container[_ngcontent-%COMP%]   .choices[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .variable-list[_ngcontent-%COMP%]{max-width:100%;min-height:60px;display:block;background:#fff;border-radius:4px;margin-top:10px;max-height:250px;overflow:auto}.container[_ngcontent-%COMP%]   .choices[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .variable-list_item[_ngcontent-%COMP%]{display:flex;flex-direction:row}.container[_ngcontent-%COMP%]   .choices[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .variable-list_item-trash[_ngcontent-%COMP%]{margin-left:25px;height:35px;color:#6e7f95;cursor:pointer}.container[_ngcontent-%COMP%]   .choices[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .variable-list_box[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-bottom:10px;background-color:#f7f7f7;border-radius:6px;height:35px;width:100%}.container[_ngcontent-%COMP%]   .choices[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{margin-left:20px;margin-right:30px}.container[_ngcontent-%COMP%]   .choices[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]{margin-left:auto}.container[_ngcontent-%COMP%]   .choices[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{cursor:pointer;float:right;height:30px}.container[_ngcontent-%COMP%]   .choices[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:hover{background-color:#fff;border-radius:6px}.container[_ngcontent-%COMP%]   .stroked-btn[_ngcontent-%COMP%]{height:40px;width:200px;border-radius:20px;font-family:OpenSans;cursor:pointer;outline:0;border-color:#6e7f95;background-color:#fff;color:#6e7f95;border-width:2px;font-size:12px;font-weight:700;letter-spacing:0;line-height:17px}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:17px}"]],data:{}});function ml(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,3,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(n,l,e){var a=!0;return"click"===l&&(a=!1!==t.Qb(n,1)._selectViaInteraction()&&a),"keydown"===l&&(a=!1!==t.Qb(n,1)._handleKeydown(e)&&a),a}),il.c,il.a)),t.Db(1,8568832,[[19,4]],0,Fn.r,[t.n,t.i,[2,Fn.l],[2,Fn.q]],{value:[0,"value"]},null),(n()(),t.Yb(2,0,[" "," "])),t.Ub(3,1)],(function(n,l){n(l,1,0,l.context.$implicit)}),(function(n,l){n(l,0,0,t.Qb(l,1)._getTabIndex(),t.Qb(l,1).selected,t.Qb(l,1).multiple,t.Qb(l,1).active,t.Qb(l,1).id,t.Qb(l,1)._getAriaSelected(),t.Qb(l,1).disabled.toString(),t.Qb(l,1).disabled);var e=t.Zb(l,2,0,n(l,3,0,t.Qb(l.parent,0),l.context.$implicit));n(l,2,0,e)}))}function gl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,5,"button",[["class","stroked-btn"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.addVariables()&&t),t}),V.b,V.a)),t.Db(1,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Eb(2,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","add"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.Db(3,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Yb(4,0,[" "," "])),t.Ub(5,1)],(function(n,l){n(l,3,0,"add")}),(function(n,l){var e=l.component;n(l,0,0,t.Qb(l,1).disabled||null,"NoopAnimations"===t.Qb(l,1)._animationMode),n(l,2,0,t.Qb(l,3).inline,"primary"!==t.Qb(l,3).color&&"accent"!==t.Qb(l,3).color&&"warn"!==t.Qb(l,3).color);var a=t.Zb(l,4,0,n(l,5,0,t.Qb(l.parent,0),e.addStr));n(l,4,0,a)}))}function hl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,13,"div",[["class","variable-list_item"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,10,"div",[["class","variable-list_box"]],null,null,null,null,null)),(n()(),t.Eb(2,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),t.Eb(3,0,null,null,1,"span",[["class","number"]],null,null,null,null,null)),(n()(),t.Yb(4,null,["",""])),(n()(),t.Eb(5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Yb(6,null,["",""])),(n()(),t.Eb(7,0,null,null,4,"div",[["class","arrows"]],null,null,null,null,null)),(n()(),t.Eb(8,0,null,null,1,"mat-icon",[["class","arrow mat-icon notranslate"],["role","img"],["svgIcon","arrow-down"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.down(n.context.index)&&t),t}),u.b,u.a)),t.Db(9,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Eb(10,0,null,null,1,"mat-icon",[["class","arrow mat-icon notranslate"],["role","img"],["svgIcon","arrow-up"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.up(n.context.index)&&t),t}),u.b,u.a)),t.Db(11,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Eb(12,0,null,null,1,"mat-icon",[["class","variable-list_item-trash mat-icon notranslate"],["role","img"],["svgIcon","trash"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.remove(n.context.index)&&t),t}),u.b,u.a)),t.Db(13,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null)],(function(n,l){n(l,9,0,"arrow-down"),n(l,11,0,"arrow-up"),n(l,13,0,"trash")}),(function(n,l){var e=l.component;n(l,4,0,l.context.index+1),n(l,6,0,e.typeIndex<3?l.context.$implicit.vId:l.context.$implicit.rule),n(l,8,0,t.Qb(l,9).inline,"primary"!==t.Qb(l,9).color&&"accent"!==t.Qb(l,9).color&&"warn"!==t.Qb(l,9).color),n(l,10,0,t.Qb(l,11).inline,"primary"!==t.Qb(l,11).color&&"accent"!==t.Qb(l,11).color&&"warn"!==t.Qb(l,11).color),n(l,12,0,t.Qb(l,13).inline,"primary"!==t.Qb(l,13).color&&"accent"!==t.Qb(l,13).color&&"warn"!==t.Qb(l,13).color)}))}function fl(n){return t.ac(0,[t.Sb(0,f.i,[f.e,f.b,f.d]),(n()(),t.Eb(1,0,null,null,44,"div",[["class","container"]],null,null,null,null,null)),(n()(),t.Eb(2,0,null,null,36,"div",[["class","inputs"]],null,null,null,null,null)),(n()(),t.Eb(3,0,null,null,14,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(4,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,1,{_controlNonStatic:0}),t.Wb(335544320,2,{_controlStatic:0}),t.Wb(603979776,3,{_labelChildNonStatic:0}),t.Wb(335544320,4,{_labelChildStatic:0}),t.Wb(603979776,5,{_placeholderChild:0}),t.Wb(603979776,6,{_errorChildren:1}),t.Wb(603979776,7,{_hintChildren:1}),t.Wb(603979776,8,{_prefixChildren:1}),t.Wb(603979776,9,{_suffixChildren:1}),(n()(),t.Eb(14,0,null,1,3,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","name"],["matInput",""],["name","name"],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"change"],[null,"blur"],[null,"focus"],[null,"input"]],(function(n,l,e){var a=!0,i=n.component;return"blur"===l&&(a=!1!==t.Qb(n,15)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.Qb(n,15)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.Qb(n,15)._onInput()&&a),"change"===l&&(a=!1!==i.onNameChange(e)&&a),a}),null,null)),t.Db(15,999424,null,0,Tn.a,[t.n,Wn.a,[8,null],[2,Mn.p],[2,Mn.h],Fn.d,[8,null],qn.a,t.G],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"],value:[3,"value"]},null),t.Ub(16,1),t.Vb(2048,[[1,4],[2,4]],Vn.d,null,[Tn.a]),(n()(),t.Eb(18,0,null,null,20,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(19,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,10,{_controlNonStatic:0}),t.Wb(335544320,11,{_controlStatic:0}),t.Wb(603979776,12,{_labelChildNonStatic:0}),t.Wb(335544320,13,{_labelChildStatic:0}),t.Wb(603979776,14,{_placeholderChild:0}),t.Wb(603979776,15,{_errorChildren:1}),t.Wb(603979776,16,{_hintChildren:1}),t.Wb(603979776,17,{_prefixChildren:1}),t.Wb(603979776,18,{_suffixChildren:1}),(n()(),t.Eb(29,0,null,1,9,"mat-select",[["class","mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"selectionChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(n,l,e){var a=!0,i=n.component;return"keydown"===l&&(a=!1!==t.Qb(n,31)._handleKeydown(e)&&a),"focus"===l&&(a=!1!==t.Qb(n,31)._onFocus()&&a),"blur"===l&&(a=!1!==t.Qb(n,31)._onBlur()&&a),"selectionChange"===l&&(a=!1!==i.onTypeSelection(e)&&a),a}),ol.b,ol.a)),t.Vb(6144,null,Fn.l,null,[rl.c]),t.Db(31,2080768,null,3,rl.c,[ul.e,t.i,t.G,Fn.d,t.n,[2,G.b],[2,Mn.p],[2,Mn.h],[2,Vn.c],[8,null],[8,null],rl.a,W.j],{placeholder:[0,"placeholder"],value:[1,"value"]},{selectionChange:"selectionChange"}),t.Wb(603979776,19,{options:1}),t.Wb(603979776,20,{optionGroups:1}),t.Wb(603979776,21,{customTrigger:0}),t.Ub(35,1),t.Vb(2048,[[10,4],[11,4]],Vn.d,null,[rl.c]),(n()(),t.ub(16777216,null,1,1,null,ml)),t.Db(38,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null),(n()(),t.ub(16777216,null,null,1,null,gl)),t.Db(40,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null),(n()(),t.Eb(41,0,null,null,4,"div",[["class","choices"]],null,null,null,null,null)),(n()(),t.Eb(42,0,null,null,3,"div",[["class","position"]],null,null,null,null,null)),(n()(),t.Eb(43,0,null,null,2,"div",[["class","variable-list"]],null,null,null,null,null)),(n()(),t.ub(16777216,null,null,1,null,hl)),t.Db(45,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=l.component;n(l,4,0,"outline");var a=t.Ib(1,"",t.Zb(l,15,1,n(l,16,0,t.Qb(l,0),"admin.view.cards.name_placeholder")),"");n(l,15,0,"name",a,"text",e.card.label),n(l,19,0,"outline");var i=t.Ib(1,"",t.Zb(l,31,0,n(l,35,0,t.Qb(l,0),"admin.view.cards.type_placeholder")),"");n(l,31,0,i,"admin.cards.types."+e.card.type),n(l,38,0,e.cardTypesStr),n(l,40,0,e.typeIndex>=0||e.card.type.length>0),n(l,45,0,e.choices)}),(function(n,l){n(l,3,1,["standard"==t.Qb(l,4).appearance,"fill"==t.Qb(l,4).appearance,"outline"==t.Qb(l,4).appearance,"legacy"==t.Qb(l,4).appearance,t.Qb(l,4)._control.errorState,t.Qb(l,4)._canLabelFloat,t.Qb(l,4)._shouldLabelFloat(),t.Qb(l,4)._hasFloatingLabel(),t.Qb(l,4)._hideControlPlaceholder(),t.Qb(l,4)._control.disabled,t.Qb(l,4)._control.autofilled,t.Qb(l,4)._control.focused,"accent"==t.Qb(l,4).color,"warn"==t.Qb(l,4).color,t.Qb(l,4)._shouldForward("untouched"),t.Qb(l,4)._shouldForward("touched"),t.Qb(l,4)._shouldForward("pristine"),t.Qb(l,4)._shouldForward("dirty"),t.Qb(l,4)._shouldForward("valid"),t.Qb(l,4)._shouldForward("invalid"),t.Qb(l,4)._shouldForward("pending"),!t.Qb(l,4)._animationsEnabled]),n(l,14,0,t.Qb(l,15)._isServer,t.Qb(l,15).id,t.Qb(l,15).placeholder,t.Qb(l,15).disabled,t.Qb(l,15).required,t.Qb(l,15).readonly&&!t.Qb(l,15)._isNativeSelect||null,t.Qb(l,15)._ariaDescribedby||null,t.Qb(l,15).errorState,t.Qb(l,15).required.toString()),n(l,18,1,["standard"==t.Qb(l,19).appearance,"fill"==t.Qb(l,19).appearance,"outline"==t.Qb(l,19).appearance,"legacy"==t.Qb(l,19).appearance,t.Qb(l,19)._control.errorState,t.Qb(l,19)._canLabelFloat,t.Qb(l,19)._shouldLabelFloat(),t.Qb(l,19)._hasFloatingLabel(),t.Qb(l,19)._hideControlPlaceholder(),t.Qb(l,19)._control.disabled,t.Qb(l,19)._control.autofilled,t.Qb(l,19)._control.focused,"accent"==t.Qb(l,19).color,"warn"==t.Qb(l,19).color,t.Qb(l,19)._shouldForward("untouched"),t.Qb(l,19)._shouldForward("touched"),t.Qb(l,19)._shouldForward("pristine"),t.Qb(l,19)._shouldForward("dirty"),t.Qb(l,19)._shouldForward("valid"),t.Qb(l,19)._shouldForward("invalid"),t.Qb(l,19)._shouldForward("pending"),!t.Qb(l,19)._animationsEnabled]),n(l,29,1,[t.Qb(l,31).id,t.Qb(l,31).tabIndex,t.Qb(l,31)._getAriaLabel(),t.Qb(l,31)._getAriaLabelledby(),t.Qb(l,31).required.toString(),t.Qb(l,31).disabled.toString(),t.Qb(l,31).errorState,t.Qb(l,31).panelOpen?t.Qb(l,31)._optionIds:null,t.Qb(l,31).multiple,t.Qb(l,31)._ariaDescribedby||null,t.Qb(l,31)._getAriaActiveDescendant(),t.Qb(l,31).disabled,t.Qb(l,31).errorState,t.Qb(l,31).required,t.Qb(l,31).empty])}))}class _l{constructor(n,l,e,t,a,i){this.i18nextService=n,this.router=l,this.route=e,this.formBuilder=t,this.dialog=a,this.viewsService=i,this.viewId=null,this.stepperLength=0,this.currentStepIndex=0,this.name="",this.update=!1,this.cardList=[{label:"",type:"",variables:[]}]}buildForm(){this.viewForm=this.formBuilder.group({name:[this.name,Mn.v.required]})}cardValid(n){return n.label.trim().length>0&&n.type.trim().length>0&&n.variables.length>0}sendForm(){const n={label:this.viewForm.controls.name.value,cards:[]};for(const e of this.cardList){const l=[];for(const n of e.variables)l.push({_id:e.type===dl.a.CONDITION?n.rule:n.vId,description:n.descr});n.cards.push({variables:l,label:e.label,type:e.type})}let l;(l=this.update?this.viewsService.updateView(this.viewId,n):this.viewsService.createView(n)).subscribe(n=>{n&&n.code&&200===n.code?this.router.navigate(["/admin",{index:2}]):console.error(n.message)})}ngOnInit(){this.pageName=this.i18nextService.t("admin.view.title.new"),this.route.params&&this.route.params.subscribe(n=>{if(n.hasOwnProperty("view")){const l=JSON.parse(n.view);this.pageName=this.i18nextService.t("admin.view.title.update"),this.update=!0,this.viewId=l._id,this.name=l.label,this.cardList=l.cards.map(n=>({variables:n.variables.map(n=>({vId:n._id,descr:n.description})),label:n.label,type:n.type}))}}),this.buildForm()}ngAfterViewInit(){this.stepperLength=this.matStepper.steps.length}onStepChange(n){this.currentStepIndex=n.selectedIndex}previousStepClick(){this.currentStepIndex>0?this.matStepper.previous():this.cancelForm()}nextStepClick(){this.currentStepIndex<this.stepperLength-1?this.matStepper.next():this.currentStepIndex===this.stepperLength-1&&this.sendForm()}cancelForm(){this.dialog.open(p.a,{data:{important:!0,message:this.i18nextService.t("hardware_architecture.add_station.cancel_message")},width:"520px",height:"auto",autoFocus:!1}).afterClosed().subscribe(n=>{n&&this.router.navigate(["/admin",{index:2}])})}addViewCard(){this.cardList.push({label:"",type:"",variables:[]})}onCardChange(n,l){Object.assign(this.cardList[l],n)}removeCard(n){this.cardList.splice(n,1)}dragDrop(n){Object(Y.k)(this.cardList,n.previousIndex,n.currentIndex)}nextButtonVisible(){switch(this.currentStepIndex){case 0:return this.viewForm.valid;case 1:case 2:return(this.update||this.cardList.length>0)&&this.cardList.every(this.cardValid);default:return!0}}}var Cl=t.Cb({encapsulation:0,styles:[[".form[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   vd-header[_ngcontent-%COMP%]{order:1}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;order:2;background-color:#fff;padding:20px 12.5px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]    .mat-horizontal-stepper-header-container{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]    .mat-expansion-indicator::after{border-color:#6e7f95}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .view-label[_ngcontent-%COMP%]{padding:10px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]{width:100%;height:100%}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#152935;font-family:OpenSans;font-size:14px;letter-spacing:0;line-height:17.09px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-top:7px;width:100%;font-family:OpenSans;font-size:18px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-outline{top:0;color:#9aa7b6}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:0}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#ed1c2c;font-size:10px;margin-top:0}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]{margin:0 0 0 24px;width:auto}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 15px;display:flex;flex-direction:row;align-items:center}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:40px;width:200px;border-radius:20px;font-family:OpenSans;font-size:14px;cursor:pointer;outline:0;line-height:17px;background-color:#134e91;color:#fff}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .btn.stroked[_ngcontent-%COMP%]{border-color:#134e91;background-color:#fff;color:#134e91;border-width:2px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #cancel[_ngcontent-%COMP%]{margin:0 0 0 24px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:17px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   vd-view-card-form[_ngcontent-%COMP%]{max-width:calc(50% - 10px);min-width:calc(50% - 10px);margin-bottom:20px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   vd-view-card-form[_ngcontent-%COMP%]:nth-child(even){margin-left:10px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]   vd-view-card-form[_ngcontent-%COMP%]:nth-child(odd){margin-right:10px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:19px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]{border-radius:6px;background-color:#f7f7f7;display:flex;flex-direction:row;margin:30px 0;padding:10px 110px;flex-wrap:wrap}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card-drag[_ngcontent-%COMP%]{min-width:50%;max-width:50%}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card-drag_placeholder[_ngcontent-%COMP%]{border-radius:6px;background-color:#d7d7d7;min-width:calc(50% - 40px);max-width:calc(50% - 40px);min-height:184px;margin:10px 20px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card-drag_element[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;min-width:50%;border-radius:6px;margin:10px 20px;padding:17px 30px;min-height:150px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card-drag_element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6e7f95;font-family:OpenSans;font-size:16px;font-weight:600;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card-drag_element[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{align-self:flex-end;color:#6e7f95;cursor:pointer;margin-top:30px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card-drag_element-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:30px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card-drag_element-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#134e91;font-family:OpenSansBold}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card-drag_element-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6e7f95;cursor:-webkit-grab;cursor:grab;margin-top:0}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]   .card-drag_element-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}"]],data:{}});function vl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"vd-view-card-form",[],null,[[null,"cardChange"]],(function(n,l,e){var t=!0;return"cardChange"===l&&(t=!1!==n.component.onCardChange(e,n.context.index)&&t),t}),fl,pl)),t.Db(1,114688,null,0,bl,[_.e],{card:[0,"card"]},{cardChange:"cardChange"})],(function(n,l){n(l,1,0,l.context.$implicit)}),null)}function Ol(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,0,"div",[["class","card-drag_placeholder"]],null,null,null,null,null))],null,null)}function Ql(n){return t.ac(0,[(n()(),t.Eb(0,16777216,null,null,22,"div",[["cdkDrag",""],["cdkDragBoundary",".card-group"],["class","card-drag cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),t.Db(1,4866048,[[16,4]],3,Y.c,[t.n,[3,Y.b],$.d,t.G,t.Z,Y.a,[2,G.b],Y.h,t.i],{boundaryElement:[0,"boundaryElement"]},null),t.Wb(603979776,17,{_handles:1}),t.Wb(603979776,18,{_previewTemplate:0}),t.Wb(603979776,19,{_placeholderTemplate:0}),t.Vb(2048,null,Y.l,null,[Y.c]),(n()(),t.ub(0,null,null,1,null,Ol)),t.Db(7,16384,[[19,4]],0,Y.e,[t.V],null,null),(n()(),t.Eb(8,0,null,null,14,"div",[["class","card-drag_element"]],null,null,null,null,null)),(n()(),t.Eb(9,0,null,null,5,"div",[["class","card-drag_element-header"]],null,null,null,null,null)),(n()(),t.Eb(10,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t.Yb(11,null,["",""])),(n()(),t.Eb(12,0,null,null,2,"mat-icon",[["cdkDragHandle",""],["class","mat-icon notranslate cdk-drag-handle"],["role","img"],["svgIcon","dragdrop"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.Db(13,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),t.Db(14,147456,[[17,4]],0,Y.d,[t.n,[2,Y.l]],null,null),(n()(),t.Eb(15,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t.Yb(16,null,["",""])),t.Ub(17,1),(n()(),t.Eb(18,0,null,null,2,"p",[],[[4,"font-family",null]],null,null,null,null)),(n()(),t.Yb(19,null,["",""])),t.Ub(20,1),(n()(),t.Eb(21,0,null,null,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","trash"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.removeCard(n.context.index)&&t),t}),u.b,u.a)),t.Db(22,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.ub(0,null,null,0))],(function(n,l){n(l,1,0,".card-group"),n(l,13,0,"dragdrop"),n(l,22,0,"trash")}),(function(n,l){n(l,0,0,t.Qb(l,1).disabled,t.Qb(l,1)._dragRef.isDragging()),n(l,11,0,l.context.$implicit.label),n(l,12,0,t.Qb(l,13).inline,"primary"!==t.Qb(l,13).color&&"accent"!==t.Qb(l,13).color&&"warn"!==t.Qb(l,13).color);var e=t.Zb(l,16,0,n(l,17,0,t.Qb(l.parent,0),"admin.view.order.type"));n(l,16,0,e),n(l,18,0,"OpenSansBold");var a=t.Zb(l,19,0,n(l,20,0,t.Qb(l.parent,0),"admin.cards.types."+l.context.$implicit.type));n(l,19,0,a),n(l,21,0,t.Qb(l,22).inline,"primary"!==t.Qb(l,22).color&&"accent"!==t.Qb(l,22).color&&"warn"!==t.Qb(l,22).color)}))}function Pl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,3,"button",[["class","btn"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.nextStepClick()&&t),t}),V.b,V.a)),t.Db(1,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Yb(2,0,[" "," "])),t.Ub(3,1)],null,(function(n,l){var e=l.component;n(l,0,0,t.Qb(l,1).disabled||null,"NoopAnimations"===t.Qb(l,1)._animationMode);var a=t.Zb(l,2,0,n(l,3,0,t.Qb(l.parent,0),e.currentStepIndex<2?"global.next":e.update?"admin.view.order.update":"admin.view.order.create"));n(l,2,0,a)}))}function xl(n){return t.ac(0,[t.Sb(0,f.i,[f.e,f.b,f.d]),t.Wb(671088640,1,{matStepper:0}),(n()(),t.Eb(2,0,null,null,88,"div",[["class","form"]],null,null,null,null,null)),(n()(),t.Eb(3,0,null,null,1,"vd-header",[],null,null,null,o.b,o.a)),t.Db(4,114688,null,0,r.a,[],{pageName:[0,"pageName"]},null),(n()(),t.Eb(5,0,null,null,85,"div",[["class","container"]],null,null,null,null,null)),(n()(),t.Eb(6,0,null,null,77,"mat-horizontal-stepper",[["aria-orientation","horizontal"],["class","mat-stepper-horizontal"],["role","tablist"]],[[2,"mat-stepper-label-position-end",null],[2,"mat-stepper-label-position-bottom",null]],[[null,"selectionChange"]],(function(n,l,e){var t=!0;return"selectionChange"===l&&(t=!1!==n.component.onStepChange(e)&&t),t}),En.c,En.a)),t.Vb(6144,null,Dn.d,null,[In.b]),t.Db(8,5423104,[[1,4],["stepper",4]],2,In.b,[[2,G.b],t.i,t.n,$.d],{linear:[0,"linear"]},{selectionChange:"selectionChange"}),t.Wb(603979776,2,{_steps:1}),t.Wb(603979776,3,{_icons:1}),t.Vb(2048,null,In.e,null,[In.b]),(n()(),t.Eb(12,0,null,null,40,"mat-step",[],null,null,null,En.d,En.b)),t.Db(13,573440,[[2,4]],1,In.c,[In.e,[1,Fn.d],[2,Dn.h]],{stepControl:[0,"stepControl"],label:[1,"label"]},null),t.Wb(603979776,4,{stepLabel:0}),t.Ub(15,1),t.Vb(2048,null,Fn.d,null,[In.c]),(n()(),t.Eb(17,0,null,0,35,"form",[["id","view"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var a=!0;return"submit"===l&&(a=!1!==t.Qb(n,19).onSubmit(e)&&a),"reset"===l&&(a=!1!==t.Qb(n,19).onReset()&&a),a}),null,null)),t.Db(18,16384,null,0,Mn.z,[],null,null),t.Db(19,540672,null,0,Mn.h,[[8,null],[8,null]],{form:[0,"form"]},null),t.Vb(2048,null,Mn.c,null,[Mn.h]),t.Db(21,16384,null,0,Mn.o,[[4,Mn.c]],null,null),(n()(),t.Eb(22,0,null,null,30,"div",[["class","infos-basic"]],null,null,null,null,null)),(n()(),t.Eb(23,0,null,null,29,"div",[["class","name"]],null,null,null,null,null)),(n()(),t.Eb(24,0,null,null,3,"mat-label",[],null,null,null,null,null)),t.Db(25,16384,null,0,Vn.f,[],null,null),(n()(),t.Yb(26,null,["",""])),t.Ub(27,1),(n()(),t.Eb(28,0,null,null,24,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(29,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,5,{_controlNonStatic:0}),t.Wb(335544320,6,{_controlStatic:0}),t.Wb(603979776,7,{_labelChildNonStatic:0}),t.Wb(335544320,8,{_labelChildStatic:0}),t.Wb(603979776,9,{_placeholderChild:0}),t.Wb(603979776,10,{_errorChildren:1}),t.Wb(603979776,11,{_hintChildren:1}),t.Wb(603979776,12,{_prefixChildren:1}),t.Wb(603979776,13,{_suffixChildren:1}),(n()(),t.Eb(39,0,null,1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["id","name"],["matInput",""],["name","name"],["required",""],["type","text"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,e){var a=!0;return"input"===l&&(a=!1!==t.Qb(n,42)._handleInput(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,42).onTouched()&&a),"compositionstart"===l&&(a=!1!==t.Qb(n,42)._compositionStart()&&a),"compositionend"===l&&(a=!1!==t.Qb(n,42)._compositionEnd(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,46)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.Qb(n,46)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.Qb(n,46)._onInput()&&a),a}),null,null)),t.Db(40,16384,null,0,Mn.u,[],{required:[0,"required"]},null),t.Vb(1024,null,Mn.k,(function(n){return[n]}),[Mn.u]),t.Db(42,16384,null,0,Mn.d,[t.N,t.n,[2,Mn.a]],null,null),t.Vb(1024,null,Mn.l,(function(n){return[n]}),[Mn.d]),t.Db(44,671744,null,0,Mn.g,[[3,Mn.c],[6,Mn.k],[8,null],[6,Mn.l],[2,Mn.y]],{name:[0,"name"]},null),t.Vb(2048,null,Mn.m,null,[Mn.g]),t.Db(46,999424,null,0,Tn.a,[t.n,Wn.a,[6,Mn.m],[2,Mn.p],[2,Mn.h],Fn.d,[8,null],qn.a,t.G],{id:[0,"id"],required:[1,"required"],type:[2,"type"]},null),t.Db(47,16384,null,0,Mn.n,[[4,Mn.m]],null,null),t.Vb(2048,[[5,4],[6,4]],Vn.d,null,[Tn.a]),(n()(),t.Eb(49,0,null,5,3,"mat-error",[["class","error mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.Db(50,16384,[[10,4]],0,Vn.b,[],null,null),(n()(),t.Yb(51,null,[" "," "])),t.Ub(52,1),(n()(),t.Eb(53,0,null,null,14,"mat-step",[],null,null,null,En.d,En.b)),t.Vb(6144,null,Fn.d,null,[In.c]),t.Db(55,573440,[[2,4]],1,In.c,[In.e,[1,Fn.d],[2,Dn.h]],{label:[0,"label"]},null),t.Wb(603979776,14,{stepLabel:0}),t.Ub(57,1),(n()(),t.Eb(58,0,null,0,9,"div",[["class","step"]],null,null,null,null,null)),(n()(),t.Eb(59,0,null,null,2,"div",[["class","cards"]],null,null,null,null,null)),(n()(),t.ub(16777216,null,null,1,null,vl)),t.Db(61,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null),(n()(),t.Eb(62,0,null,null,5,"button",[["class","btn stroked"],["mat-stroked-button",""]],[[4,"width",null],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.addViewCard()&&t),t}),V.b,V.a)),t.Db(63,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Eb(64,0,null,0,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","add"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.Db(65,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Yb(66,0,[" "," "])),t.Ub(67,1),(n()(),t.Eb(68,0,null,null,15,"mat-step",[],null,null,null,En.d,En.b)),t.Vb(6144,null,Fn.d,null,[In.c]),t.Db(70,573440,[[2,4]],1,In.c,[In.e,[1,Fn.d],[2,Dn.h]],{label:[0,"label"]},null),t.Wb(603979776,15,{stepLabel:0}),t.Ub(72,1),(n()(),t.Eb(73,0,null,0,10,"div",[["class","step order"]],null,null,null,null,null)),(n()(),t.Eb(74,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t.Yb(75,null,["",""])),t.Ub(76,1),(n()(),t.Eb(77,0,null,null,6,"div",[["cdkDropList",""],["cdkDropListOrientation","horizontal"],["class","card-group cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(n,l,e){var t=!0;return"cdkDropListDropped"===l&&(t=!1!==n.component.dragDrop(e)&&t),t}),null,null)),t.Vb(6144,null,Y.b,null,[Y.f]),t.Db(79,1196032,null,1,Y.f,[t.n,Y.h,t.i,[2,G.b],[3,Y.g]],{orientation:[0,"orientation"]},{dropped:"cdkDropListDropped"}),t.Wb(603979776,16,{_draggables:1}),t.Vb(256,null,Y.g,void 0,[]),(n()(),t.ub(16777216,null,null,1,null,Ql)),t.Db(83,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null),(n()(),t.Eb(84,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(n()(),t.Eb(85,0,null,null,3,"button",[["class","btn stroked"],["id","cancel"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.previousStepClick()&&t),t}),V.b,V.a)),t.Db(86,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Yb(87,0,[" "," "])),t.Ub(88,1),(n()(),t.ub(16777216,null,null,1,null,Pl)),t.Db(90,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,4,0,e.pageName),n(l,8,0,!0);var a=e.viewForm,i=t.Ib(1,"",t.Zb(l,13,1,n(l,15,0,t.Qb(l,0),"admin.view.info.step")),"");n(l,13,0,a,i),n(l,19,0,e.viewForm),n(l,29,0,"outline"),n(l,40,0,""),n(l,44,0,"name"),n(l,46,0,"name","","text");var o=t.Ib(1,"",t.Zb(l,55,0,n(l,57,0,t.Qb(l,0),"admin.view.cards.step")),"");n(l,55,0,o),n(l,61,0,e.cardList),n(l,65,0,"add");var r=t.Ib(1,"",t.Zb(l,70,0,n(l,72,0,t.Qb(l,0),"admin.view.order.step")),"");n(l,70,0,r),n(l,79,0,"horizontal"),n(l,83,0,e.cardList),n(l,90,0,e.nextButtonVisible())}),(function(n,l){var e=l.component;n(l,6,0,"end"==t.Qb(l,8).labelPosition,"bottom"==t.Qb(l,8).labelPosition),n(l,17,0,t.Qb(l,21).ngClassUntouched,t.Qb(l,21).ngClassTouched,t.Qb(l,21).ngClassPristine,t.Qb(l,21).ngClassDirty,t.Qb(l,21).ngClassValid,t.Qb(l,21).ngClassInvalid,t.Qb(l,21).ngClassPending);var a=t.Zb(l,26,0,n(l,27,0,t.Qb(l,0),"admin.view.info.name"));n(l,26,0,a),n(l,28,1,["standard"==t.Qb(l,29).appearance,"fill"==t.Qb(l,29).appearance,"outline"==t.Qb(l,29).appearance,"legacy"==t.Qb(l,29).appearance,t.Qb(l,29)._control.errorState,t.Qb(l,29)._canLabelFloat,t.Qb(l,29)._shouldLabelFloat(),t.Qb(l,29)._hasFloatingLabel(),t.Qb(l,29)._hideControlPlaceholder(),t.Qb(l,29)._control.disabled,t.Qb(l,29)._control.autofilled,t.Qb(l,29)._control.focused,"accent"==t.Qb(l,29).color,"warn"==t.Qb(l,29).color,t.Qb(l,29)._shouldForward("untouched"),t.Qb(l,29)._shouldForward("touched"),t.Qb(l,29)._shouldForward("pristine"),t.Qb(l,29)._shouldForward("dirty"),t.Qb(l,29)._shouldForward("valid"),t.Qb(l,29)._shouldForward("invalid"),t.Qb(l,29)._shouldForward("pending"),!t.Qb(l,29)._animationsEnabled]),n(l,39,1,[t.Qb(l,40).required?"":null,t.Qb(l,46)._isServer,t.Qb(l,46).id,t.Qb(l,46).placeholder,t.Qb(l,46).disabled,t.Qb(l,46).required,t.Qb(l,46).readonly&&!t.Qb(l,46)._isNativeSelect||null,t.Qb(l,46)._ariaDescribedby||null,t.Qb(l,46).errorState,t.Qb(l,46).required.toString(),t.Qb(l,47).ngClassUntouched,t.Qb(l,47).ngClassTouched,t.Qb(l,47).ngClassPristine,t.Qb(l,47).ngClassDirty,t.Qb(l,47).ngClassValid,t.Qb(l,47).ngClassInvalid,t.Qb(l,47).ngClassPending]),n(l,49,0,t.Qb(l,50).id);var i=t.Zb(l,51,0,n(l,52,0,t.Qb(l,0),"admin.view.info.name_required"));n(l,51,0,i),n(l,62,0,"auto",t.Qb(l,63).disabled||null,"NoopAnimations"===t.Qb(l,63)._animationMode),n(l,64,0,t.Qb(l,65).inline,"primary"!==t.Qb(l,65).color&&"accent"!==t.Qb(l,65).color&&"warn"!==t.Qb(l,65).color);var o=t.Zb(l,66,0,n(l,67,0,t.Qb(l,0),"admin.view.cards.new_card"));n(l,66,0,o);var r=t.Zb(l,75,0,n(l,76,0,t.Qb(l,0),"admin.view.order.desc"));n(l,75,0,r),n(l,77,0,t.Qb(l,79).id,t.Qb(l,79).disabled,t.Qb(l,79)._dropListRef.isDragging(),t.Qb(l,79)._dropListRef.isReceiving()),n(l,85,0,t.Qb(l,86).disabled||null,"NoopAnimations"===t.Qb(l,86)._animationMode);var u=t.Zb(l,87,0,n(l,88,0,t.Qb(l,0),e.currentStepIndex<1?"global.cancel":"global.back"));n(l,87,0,u)}))}function Ml(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"vd-view-form",[],null,null,null,xl,Cl)),t.Db(1,4308992,null,0,_l,[f.j,x.l,x.a,Mn.f,_.e,D],null,null)],(function(n,l){n(l,1,0)}),null)}var wl=t.Ab("vd-view-form",_l,Ml,{},{},[]),yl=e("UzTs"),Sl=e("vTl0"),kl=e("oJZn"),El=e("pBi1");class Dl{constructor(n,l,e,t,a,i,o,r){this.route=n,this.router=l,this.formBuilder=e,this.i18nextService=t,this.dialog=a,this.viewsService=i,this.cardsService=o,this.notificationService=r,this.addVariableStr="admin.dashboard.card.add_variables",this.addConditionStr="admin.dashboard.card.add_conditions",this.selectedViews=[],this.stepperLength=0,this.cardType=dl.a,this.types=[this.cardType.DEFAULT,this.cardType.ALERT,this.cardType.MACHINE,this.cardType.CONDITION,this.cardType.EQUIPMENT,this.cardType.REPORT],this.currentStepIndex=0,this.typeIndex=-1,this.cardTypesStr=["admin.cards.types.default","admin.cards.types.alert","admin.cards.types.machine","admin.cards.types.condition","admin.cards.types.equipment","admin.cards.types.report"],this.addStr=this.addVariableStr,this.update=!1,this.column=!1,this.equipmentsVariables=[],this.colorScheme={domain:["#004289","#087F5B","#862E9C","#A61E4D","#D9480F","#364FC7","#3BCF33","#5F3DC4","#C41037","#FF922B","#22B8CF","#94D82D","#B533CF","#FA5252","#CFB133","#4DABF7","#63E6BE","#CC5DE8","#F06595","#FFD43B","#99E9F2","#0B7285","#845EF7","#FFA8A8","#FFC078"]}}buildForm(){this.dashboardCardForm=this.formBuilder.group({label:[this.label,Mn.v.required],column:[this.column]})}ngOnInit(){this.pageName=this.i18nextService.t("global.pages.name.dashboard_form"),this.route.params.subscribe(n=>{if(n.hasOwnProperty("card")){this.update=!0;const l=JSON.parse(n.card);this.id=l._id,this.type=l.type,this.label=l.label,this.column=2===l.column,l.variables&&(this.equipmentsVariables=l.variables),l.views&&(this.selectedViews=l.views)}}),this.buildForm()}onViewChecked(n,l){this.allViews[l].checked=n.checked}ngAfterViewInit(){this.viewsService.getAll().subscribe(n=>{if(n.data&&n.data.result){this.allViews=[];for(const l of n.data.result){const n=(new Ln).deserialize(l);n.checked=this.selectedViews.some(l=>l._id===n._id),this.allViews.push(n)}}})}onTypeSelection(n){this.typeIndex=this.cardTypesStr.indexOf(n.value),this.addStr=this.typeIndex<3?this.addVariableStr:this.addConditionStr,this.type=this.types[this.typeIndex]}onCancel(){this.dialog.open(p.a,{data:{important:!0,message:this.i18nextService.t("global.action.cancel")},width:"520px",height:"auto",autoFocus:!1}).afterClosed().subscribe(n=>{n&&this.router.navigate(["/admin"])})}onStepChange(n){this.currentStepIndex=n.selectedIndex}nextStepClick(){this.stepperLength=this.matStepper.steps.length,this.currentStepIndex<this.stepperLength-1?this.matStepper.next():this.currentStepIndex===this.stepperLength-1&&this.onSubmit()}onSubmit(){const n={type:this.type,label:this.dashboardCardForm.controls.label.value,column:this.dashboardCardForm.controls.column&&!0===this.dashboardCardForm.controls.column.value?2:1};if(n.type===this.cardType.EQUIPMENT){n.views=[];for(const l of this.allViews)l.checked&&n.views.push(String(l._id))}let l;n.type===this.cardType.MACHINE&&this.equipmentsVariables&&this.equipmentsVariables.length>0&&(n.variables=this.equipmentsVariables),n.type===this.cardType.CONDITION&&(n.column=2),(l=this.update?this.cardsService.edit(this.id,n):this.cardsService.create(n)).subscribe(n=>{n&&200===n.code?this.router.navigate(["/admin",{index:3}]):this.notificationService.error(n.message)},n=>{this.notificationService.error(n.error.message)})}addEquipmentsVariable(){this.dialog.open(sl.a,{data:{multiple:!0,entries:this.equipmentsVariables?this.equipmentsVariables:[]},width:"928px",height:"560px",autoFocus:!1}).afterClosed().subscribe(n=>{if(n&&Array.isArray(n)&&n.length>0){this.equipmentsVariables=this.equipmentsVariables.length?this.equipmentsVariables:[];for(const l of n)this.equipmentsVariables.find(n=>String(n.vId)===String(l.vId))||("bool"===l.format&&(l.values=[{label:"",value:!1,color:""},{label:"",value:!1,color:""}]),l.label="",this.equipmentsVariables.push(l))}})}onNameChange(n,l){n.target.value&&(l.label=n.target.value)}onChange(n,l,e){let t=!1;"bool"===l.format&&(l.values||(l.values=[]),1===e&&(t=!0),l.values[e].label=n.target.value,l.values[e].value=t)}onChangeColor(n,l,e){l.values[e].color=n,this.equipmentsVariables.find(n=>l.vId===n.vId?l:n)}removeEquipmentsVariable(n){this.equipmentsVariables.forEach((l,e)=>{l.vId===n&&this.equipmentsVariables.splice(e,1)})}dragDrop(n){Object(Y.k)(this.equipmentsVariables,n.previousIndex,n.currentIndex)}up(n){Object(Y.k)(this.equipmentsVariables,n,n-1)}down(n){Object(Y.k)(this.equipmentsVariables,n,n+1)}}var Il=e("XBJ7"),Fl=t.Cb({encapsulation:0,styles:[[".form[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   vd-header[_ngcontent-%COMP%]{order:1}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;order:2;background-color:#fff;padding:20px 28px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]{width:100%;height:100%}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   #machine[_ngcontent-%COMP%]{border-top:2px solid rgba(16,76,144,.1)}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-type[_ngcontent-%COMP%]{color:#99a8b6;font-size:larger}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#152935;font-family:OpenSans;font-size:14px;letter-spacing:0;line-height:17.09px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-top:7px;width:100%;font-family:OpenSans;font-size:18px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-outline{top:0;color:#9aa7b6}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-infix{border-top:0}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-ms-input-placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#5a6872;font-family:OpenSans;font-size:16px;letter-spacing:0;line-height:22px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#ed1c2c;font-size:10px;margin-top:0}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-family:OpenSans;font-size:18px;letter-spacing:0;line-height:18px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]:nth-of-type(1){margin-top:20px}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center;color:#626262;font-family:OpenSans;font-size:18px;letter-spacing:0;line-height:22px;border-bottom:1px solid #979797}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]{justify-content:space-between;align-content:space-between}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-right:10px;display:inline-flex;align-items:baseline}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{max-width:40%;min-width:40%}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]   .item-values[_ngcontent-%COMP%]{max-width:55%;min-width:50%}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:50%}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:5px;width:100%}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #dashboardCardForm[_ngcontent-%COMP%]   .infos-basic[_ngcontent-%COMP%]   .variable[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:20px;width:20px;line-height:20px;cursor:pointer}.form[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{font-size:16px;padding:5px 30px;background-color:#f7f7f7;font-weight:700;color:#152935}.form[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]{margin:0 0 0 24px;width:auto}.form[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 15px;display:flex;flex-direction:row;align-items:center}.form[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:40px;width:200px;border-radius:20px;font-family:OpenSans;font-size:14px;cursor:pointer;outline:0;line-height:17px;background-color:#134e91;color:#fff}.form[_ngcontent-%COMP%]   .btn.stroked[_ngcontent-%COMP%]{border-color:#134e91;background-color:#fff;color:#134e91;border-width:2px}.form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-top:2px solid rgba(16,76,144,.1);margin:64px -28px 0;padding:22px 0}.form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #cancel[_ngcontent-%COMP%]{margin:0 0 0 24px}.form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   #submit[_ngcontent-%COMP%]{margin:0 24px 0 0}mat-checkbox[_ngcontent-%COMP%]{margin-right:12px}mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-inner-container[_ngcontent-%COMP%]{height:18px;width:18px} .mat-checkbox-checked.mat-accent .mat-checkbox-background,  .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background{background-color:#004289}.column[_ngcontent-%COMP%]{display:inline-block;padding:10px}.mat-slide-toggle.mat-checked[_ngcontent-%COMP%]   .mat-slide-toggle-thumb[_ngcontent-%COMP%]{background-color:#004289!important}.position[_ngcontent-%COMP%]{overflow-x:hidden}.position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding:30px}.position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .variables-list[_ngcontent-%COMP%], .position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .variables-list-2[_ngcontent-%COMP%]{max-width:100%;min-height:60px;display:block;background:#fff;border-radius:4px;overflow:hidden;margin-left:30px;margin-right:10px;-moz-columns:2;columns:2;padding-left:0}.position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{margin-left:20px;margin-right:30px}.position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]{margin-left:auto}.position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{cursor:pointer}.position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%], .position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dragdrop[_ngcontent-%COMP%]{float:right;height:30px}.position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:hover, .position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dragdrop[_ngcontent-%COMP%]:hover{background-color:#fff;border-radius:6px}.position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dragdrop[_ngcontent-%COMP%]{margin-right:5px;margin-left:10px;cursor:-webkit-grab;cursor:grab}.position[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .dragdrop[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}.variable-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-bottom:10px;background-color:#f7f7f7;border-radius:6px;height:35px;list-style-position:inside;page-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-animating[_ngcontent-%COMP%], .variables-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .variable-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .3s cubic-bezier(0,0,.2,1)}vd-color-picker[_ngcontent-%COMP%]{z-index:10}"]],data:{}});function Vl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,3,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(n,l,e){var a=!0;return"click"===l&&(a=!1!==t.Qb(n,1)._selectViaInteraction()&&a),"keydown"===l&&(a=!1!==t.Qb(n,1)._handleKeydown(e)&&a),a}),il.c,il.a)),t.Db(1,8568832,[[11,4]],0,Fn.r,[t.n,t.i,[2,Fn.l],[2,Fn.q]],{value:[0,"value"]},null),(n()(),t.Yb(2,0,[" "," "])),t.Ub(3,1)],(function(n,l){n(l,1,0,l.context.$implicit)}),(function(n,l){n(l,0,0,t.Qb(l,1)._getTabIndex(),t.Qb(l,1).selected,t.Qb(l,1).multiple,t.Qb(l,1).active,t.Qb(l,1).id,t.Qb(l,1)._getAriaSelected(),t.Qb(l,1).disabled.toString(),t.Qb(l,1).disabled);var e=t.Zb(l,2,0,n(l,3,0,t.Qb(l.parent,0),l.context.$implicit));n(l,2,0,e)}))}function Nl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,29,"div",[],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,3,"mat-label",[],null,null,null,null,null)),t.Db(2,16384,null,0,Vn.f,[],null,null),(n()(),t.Yb(3,null,["",""])),t.Ub(4,1),(n()(),t.Eb(5,0,null,null,21,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(6,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,14,{_controlNonStatic:0}),t.Wb(335544320,15,{_controlStatic:0}),t.Wb(603979776,16,{_labelChildNonStatic:0}),t.Wb(335544320,17,{_labelChildStatic:0}),t.Wb(603979776,18,{_placeholderChild:0}),t.Wb(603979776,19,{_errorChildren:1}),t.Wb(603979776,20,{_hintChildren:1}),t.Wb(603979776,21,{_prefixChildren:1}),t.Wb(603979776,22,{_suffixChildren:1}),(n()(),t.Eb(16,0,null,1,10,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","label"],["id","label"],["matInput",""],["name","label"],["required",""],["type","text"]],[[1,"required",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,e){var a=!0,i=n.component;return"input"===l&&(a=!1!==t.Qb(n,19)._handleInput(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,19).onTouched()&&a),"compositionstart"===l&&(a=!1!==t.Qb(n,19)._compositionStart()&&a),"compositionend"===l&&(a=!1!==t.Qb(n,19)._compositionEnd(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,23)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.Qb(n,23)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.Qb(n,23)._onInput()&&a),"ngModelChange"===l&&(a=!1!==(i.label=e)&&a),a}),null,null)),t.Db(17,16384,null,0,Mn.u,[],{required:[0,"required"]},null),t.Vb(1024,null,Mn.k,(function(n){return[n]}),[Mn.u]),t.Db(19,16384,null,0,Mn.d,[t.N,t.n,[2,Mn.a]],null,null),t.Vb(1024,null,Mn.l,(function(n){return[n]}),[Mn.d]),t.Db(21,671744,null,0,Mn.g,[[3,Mn.c],[6,Mn.k],[8,null],[6,Mn.l],[2,Mn.y]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Vb(2048,null,Mn.m,null,[Mn.g]),t.Db(23,999424,null,0,Tn.a,[t.n,Wn.a,[6,Mn.m],[2,Mn.p],[2,Mn.h],Fn.d,[8,null],qn.a,t.G],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t.Ub(24,1),t.Db(25,16384,null,0,Mn.n,[[4,Mn.m]],null,null),t.Vb(2048,[[14,4],[15,4]],Vn.d,null,[Tn.a]),(n()(),t.Eb(27,0,null,null,2,"p",[["class","infos-type"]],null,null,null,null,null)),(n()(),t.Yb(28,null,["",""])),t.Ub(29,1)],(function(n,l){var e=l.component;n(l,6,0,"outline"),n(l,17,0,""),n(l,21,0,"label",e.label);var a=t.Ib(1,"",t.Zb(l,23,1,n(l,24,0,t.Qb(l.parent,0),"admin.dashboard.card.name_placeholder")),"");n(l,23,0,"label",a,"","text")}),(function(n,l){var e=l.component,a=t.Zb(l,3,0,n(l,4,0,t.Qb(l.parent,0),"admin.dashboard.card.name"));n(l,3,0,a),n(l,5,1,["standard"==t.Qb(l,6).appearance,"fill"==t.Qb(l,6).appearance,"outline"==t.Qb(l,6).appearance,"legacy"==t.Qb(l,6).appearance,t.Qb(l,6)._control.errorState,t.Qb(l,6)._canLabelFloat,t.Qb(l,6)._shouldLabelFloat(),t.Qb(l,6)._hasFloatingLabel(),t.Qb(l,6)._hideControlPlaceholder(),t.Qb(l,6)._control.disabled,t.Qb(l,6)._control.autofilled,t.Qb(l,6)._control.focused,"accent"==t.Qb(l,6).color,"warn"==t.Qb(l,6).color,t.Qb(l,6)._shouldForward("untouched"),t.Qb(l,6)._shouldForward("touched"),t.Qb(l,6)._shouldForward("pristine"),t.Qb(l,6)._shouldForward("dirty"),t.Qb(l,6)._shouldForward("valid"),t.Qb(l,6)._shouldForward("invalid"),t.Qb(l,6)._shouldForward("pending"),!t.Qb(l,6)._animationsEnabled]),n(l,16,1,[t.Qb(l,17).required?"":null,t.Qb(l,23)._isServer,t.Qb(l,23).id,t.Qb(l,23).placeholder,t.Qb(l,23).disabled,t.Qb(l,23).required,t.Qb(l,23).readonly&&!t.Qb(l,23)._isNativeSelect||null,t.Qb(l,23)._ariaDescribedby||null,t.Qb(l,23).errorState,t.Qb(l,23).required.toString(),t.Qb(l,25).ngClassUntouched,t.Qb(l,25).ngClassTouched,t.Qb(l,25).ngClassPristine,t.Qb(l,25).ngClassDirty,t.Qb(l,25).ngClassValid,t.Qb(l,25).ngClassInvalid,t.Qb(l,25).ngClassPending]);var i=t.Zb(l,28,0,n(l,29,0,t.Qb(l.parent,0),"admin.dashboard.card.infos."+e.type));n(l,28,0,i)}))}function Wl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,19,"div",[["class","item"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Yb(2,null,["Value "," "])),(n()(),t.Eb(3,0,null,null,14,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(4,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,44,{_controlNonStatic:0}),t.Wb(335544320,45,{_controlStatic:0}),t.Wb(603979776,46,{_labelChildNonStatic:0}),t.Wb(335544320,47,{_labelChildStatic:0}),t.Wb(603979776,48,{_placeholderChild:0}),t.Wb(603979776,49,{_errorChildren:1}),t.Wb(603979776,50,{_hintChildren:1}),t.Wb(603979776,51,{_prefixChildren:1}),t.Wb(603979776,52,{_suffixChildren:1}),(n()(),t.Eb(14,0,null,1,3,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","label"],["matInput",""],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"change"],[null,"blur"],[null,"focus"],[null,"input"]],(function(n,l,e){var a=!0,i=n.component;return"blur"===l&&(a=!1!==t.Qb(n,15)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.Qb(n,15)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.Qb(n,15)._onInput()&&a),"change"===l&&(a=!1!==i.onChange(e,n.parent.parent.context.$implicit,n.context.index)&&a),a}),null,null)),t.Db(15,999424,null,0,Tn.a,[t.n,Wn.a,[8,null],[2,Mn.p],[2,Mn.h],Fn.d,[8,null],qn.a,t.G],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"],value:[3,"value"]},null),t.Ub(16,1),t.Vb(2048,[[44,4],[45,4]],Vn.d,null,[Tn.a]),(n()(),t.Eb(18,0,null,null,1,"vd-color-picker",[],null,[[null,"event"]],(function(n,l,e){var t=!0;return"event"===l&&(t=!1!==n.component.onChangeColor(e,n.parent.parent.context.$implicit,n.context.index)&&t),t}),yl.b,yl.a)),t.Db(19,49152,null,0,Sl.a,[],{color:[0,"color"]},{event:"event"})],(function(n,l){var e=l.component;n(l,4,0,"outline");var a=t.Ib(1,"",t.Zb(l,15,1,n(l,16,0,t.Qb(l.parent.parent.parent.parent,0),"admin.dashboard.card.infos.machine.value_placeholder")),"");n(l,15,0,"label",a,"text",null!=l.parent.parent.context.$implicit.values[l.context.index]&&l.parent.parent.context.$implicit.values[l.context.index].label?l.parent.parent.context.$implicit.values[l.context.index].label:""),n(l,19,0,(null==l.parent.parent.context.$implicit.values[l.context.index]?null:l.parent.parent.context.$implicit.values[l.context.index].color)||e.colorScheme.domain[l.context.index])}),(function(n,l){n(l,2,0,l.context.index),n(l,3,1,["standard"==t.Qb(l,4).appearance,"fill"==t.Qb(l,4).appearance,"outline"==t.Qb(l,4).appearance,"legacy"==t.Qb(l,4).appearance,t.Qb(l,4)._control.errorState,t.Qb(l,4)._canLabelFloat,t.Qb(l,4)._shouldLabelFloat(),t.Qb(l,4)._hasFloatingLabel(),t.Qb(l,4)._hideControlPlaceholder(),t.Qb(l,4)._control.disabled,t.Qb(l,4)._control.autofilled,t.Qb(l,4)._control.focused,"accent"==t.Qb(l,4).color,"warn"==t.Qb(l,4).color,t.Qb(l,4)._shouldForward("untouched"),t.Qb(l,4)._shouldForward("touched"),t.Qb(l,4)._shouldForward("pristine"),t.Qb(l,4)._shouldForward("dirty"),t.Qb(l,4)._shouldForward("valid"),t.Qb(l,4)._shouldForward("invalid"),t.Qb(l,4)._shouldForward("pending"),!t.Qb(l,4)._animationsEnabled]),n(l,14,0,t.Qb(l,15)._isServer,t.Qb(l,15).id,t.Qb(l,15).placeholder,t.Qb(l,15).disabled,t.Qb(l,15).required,t.Qb(l,15).readonly&&!t.Qb(l,15)._isNativeSelect||null,t.Qb(l,15)._ariaDescribedby||null,t.Qb(l,15).errorState,t.Qb(l,15).required.toString())}))}function Tl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,3,"div",[["class","item item-values"]],null,null,null,null,null)),(n()(),t.ub(16777216,null,null,2,null,Wl)),t.Db(2,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null),t.Rb(3,2)],(function(n,l){var e=n(l,3,0,0,1);n(l,2,0,e)}),null)}function ql(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,22,"div",[["class","variable"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,17,"div",[["class","item item-name"]],null,null,null,null,null)),(n()(),t.Eb(2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Yb(3,null,["",""])),(n()(),t.Eb(4,0,null,null,14,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(5,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,35,{_controlNonStatic:0}),t.Wb(335544320,36,{_controlStatic:0}),t.Wb(603979776,37,{_labelChildNonStatic:0}),t.Wb(335544320,38,{_labelChildStatic:0}),t.Wb(603979776,39,{_placeholderChild:0}),t.Wb(603979776,40,{_errorChildren:1}),t.Wb(603979776,41,{_hintChildren:1}),t.Wb(603979776,42,{_prefixChildren:1}),t.Wb(603979776,43,{_suffixChildren:1}),(n()(),t.Eb(15,0,null,1,3,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","label"],["matInput",""],["name","label"],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"change"],[null,"blur"],[null,"focus"],[null,"input"]],(function(n,l,e){var a=!0,i=n.component;return"blur"===l&&(a=!1!==t.Qb(n,16)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.Qb(n,16)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.Qb(n,16)._onInput()&&a),"change"===l&&(a=!1!==i.onNameChange(e,n.context.$implicit)&&a),a}),null,null)),t.Db(16,999424,null,0,Tn.a,[t.n,Wn.a,[8,null],[2,Mn.p],[2,Mn.h],Fn.d,[8,null],qn.a,t.G],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"],value:[3,"value"]},null),t.Ub(17,1),t.Vb(2048,[[35,4],[36,4]],Vn.d,null,[Tn.a]),(n()(),t.ub(16777216,null,null,1,null,Tl)),t.Db(20,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null),(n()(),t.Eb(21,0,null,null,1,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","trash"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.removeEquipmentsVariable(n.context.$implicit.vId)&&t),t}),u.b,u.a)),t.Db(22,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null)],(function(n,l){n(l,5,0,"outline");var e=t.Ib(1,"",t.Zb(l,16,1,n(l,17,0,t.Qb(l.parent.parent,0),"admin.dashboard.card.name_placeholder")),"");n(l,16,0,"label",e,"text",l.context.$implicit.label),n(l,20,0,"bool"===l.context.$implicit.format),n(l,22,0,"trash")}),(function(n,l){n(l,3,0,l.context.$implicit.vId),n(l,4,1,["standard"==t.Qb(l,5).appearance,"fill"==t.Qb(l,5).appearance,"outline"==t.Qb(l,5).appearance,"legacy"==t.Qb(l,5).appearance,t.Qb(l,5)._control.errorState,t.Qb(l,5)._canLabelFloat,t.Qb(l,5)._shouldLabelFloat(),t.Qb(l,5)._hasFloatingLabel(),t.Qb(l,5)._hideControlPlaceholder(),t.Qb(l,5)._control.disabled,t.Qb(l,5)._control.autofilled,t.Qb(l,5)._control.focused,"accent"==t.Qb(l,5).color,"warn"==t.Qb(l,5).color,t.Qb(l,5)._shouldForward("untouched"),t.Qb(l,5)._shouldForward("touched"),t.Qb(l,5)._shouldForward("pristine"),t.Qb(l,5)._shouldForward("dirty"),t.Qb(l,5)._shouldForward("valid"),t.Qb(l,5)._shouldForward("invalid"),t.Qb(l,5)._shouldForward("pending"),!t.Qb(l,5)._animationsEnabled]),n(l,15,0,t.Qb(l,16)._isServer,t.Qb(l,16).id,t.Qb(l,16).placeholder,t.Qb(l,16).disabled,t.Qb(l,16).required,t.Qb(l,16).readonly&&!t.Qb(l,16)._isNativeSelect||null,t.Qb(l,16)._ariaDescribedby||null,t.Qb(l,16).errorState,t.Qb(l,16).required.toString()),n(l,21,0,t.Qb(l,22).inline,"primary"!==t.Qb(l,22).color&&"accent"!==t.Qb(l,22).color&&"warn"!==t.Qb(l,22).color)}))}function Ul(n){return t.ac(0,[(n()(),t.Eb(0,16777216,null,null,18,"div",[["cdkDrag",""],["class","variable-box cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],null,null,null,null)),t.Db(1,4866048,[[54,4]],3,Y.c,[t.n,[3,Y.b],$.d,t.G,t.Z,Y.a,[2,G.b],Y.h,t.i],null,null),t.Wb(603979776,55,{_handles:1}),t.Wb(603979776,56,{_previewTemplate:0}),t.Wb(603979776,57,{_placeholderTemplate:0}),t.Vb(2048,null,Y.l,null,[Y.c]),(n()(),t.Eb(6,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),t.Eb(7,0,null,null,1,"span",[["class","number"]],null,null,null,null,null)),(n()(),t.Yb(8,null,["",""])),(n()(),t.Eb(9,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Yb(10,null,["",""])),(n()(),t.Eb(11,0,null,null,4,"div",[["class","arrows"]],null,null,null,null,null)),(n()(),t.Eb(12,0,null,null,1,"mat-icon",[["class","arrow mat-icon notranslate"],["role","img"],["svgIcon","arrow-down"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.down(n.context.index)&&t),t}),u.b,u.a)),t.Db(13,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Eb(14,0,null,null,1,"mat-icon",[["class","arrow mat-icon notranslate"],["role","img"],["svgIcon","arrow-up"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.up(n.context.index)&&t),t}),u.b,u.a)),t.Db(15,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),(n()(),t.Eb(16,0,null,null,2,"mat-icon",[["cdkDragHandle",""],["class","dragdrop mat-icon notranslate cdk-drag-handle"],["role","img"],["svgIcon","dragdrop"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.Db(17,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),t.Db(18,147456,[[55,4]],0,Y.d,[t.n,[2,Y.l]],null,null),(n()(),t.ub(0,null,null,0))],(function(n,l){n(l,13,0,"arrow-down"),n(l,15,0,"arrow-up"),n(l,17,0,"dragdrop")}),(function(n,l){n(l,0,0,t.Qb(l,1).disabled,t.Qb(l,1)._dragRef.isDragging()),n(l,8,0,l.context.index+1),n(l,10,0,l.context.$implicit.vId),n(l,12,0,t.Qb(l,13).inline,"primary"!==t.Qb(l,13).color&&"accent"!==t.Qb(l,13).color&&"warn"!==t.Qb(l,13).color),n(l,14,0,t.Qb(l,15).inline,"primary"!==t.Qb(l,15).color&&"accent"!==t.Qb(l,15).color&&"warn"!==t.Qb(l,15).color),n(l,16,0,t.Qb(l,17).inline,"primary"!==t.Qb(l,17).color&&"accent"!==t.Qb(l,17).color&&"warn"!==t.Qb(l,17).color)}))}function Ll(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,82,"div",[["id","machine"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,81,"mat-horizontal-stepper",[["aria-orientation","horizontal"],["class","mat-stepper-horizontal"],["role","tablist"]],[[2,"mat-stepper-label-position-end",null],[2,"mat-stepper-label-position-bottom",null]],[[null,"selectionChange"]],(function(n,l,e){var t=!0;return"selectionChange"===l&&(t=!1!==n.component.onStepChange(e)&&t),t}),En.c,En.a)),t.Vb(6144,null,Dn.d,null,[In.b]),t.Db(3,5423104,[[1,4],["stepper",4]],2,In.b,[[2,G.b],t.i,t.n,$.d],{linear:[0,"linear"]},{selectionChange:"selectionChange"}),t.Wb(603979776,23,{_steps:1}),t.Wb(603979776,24,{_icons:1}),t.Vb(2048,null,In.e,null,[In.b]),(n()(),t.Eb(7,0,null,null,40,"mat-step",[],null,null,null,En.d,En.b)),t.Db(8,573440,[[23,4]],1,In.c,[In.e,[1,Fn.d],[2,Dn.h]],{stepControl:[0,"stepControl"],label:[1,"label"]},null),t.Wb(603979776,25,{stepLabel:0}),t.Ub(10,1),t.Vb(2048,null,Fn.d,null,[In.c]),(n()(),t.Eb(12,0,null,0,35,"div",[["class","infos-basic"]],null,null,null,null,null)),(n()(),t.Eb(13,0,null,null,24,"div",[["class","name"]],null,null,null,null,null)),(n()(),t.Eb(14,0,null,null,3,"mat-label",[],null,null,null,null,null)),t.Db(15,16384,null,0,Vn.f,[],null,null),(n()(),t.Yb(16,null,["",""])),t.Ub(17,1),(n()(),t.Eb(18,0,null,null,19,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(19,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,26,{_controlNonStatic:0}),t.Wb(335544320,27,{_controlStatic:0}),t.Wb(603979776,28,{_labelChildNonStatic:0}),t.Wb(335544320,29,{_labelChildStatic:0}),t.Wb(603979776,30,{_placeholderChild:0}),t.Wb(603979776,31,{_errorChildren:1}),t.Wb(603979776,32,{_hintChildren:1}),t.Wb(603979776,33,{_prefixChildren:1}),t.Wb(603979776,34,{_suffixChildren:1}),(n()(),t.Eb(29,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","label"],["id","label"],["matInput",""],["name","label"],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,e){var a=!0,i=n.component;return"input"===l&&(a=!1!==t.Qb(n,30)._handleInput(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,30).onTouched()&&a),"compositionstart"===l&&(a=!1!==t.Qb(n,30)._compositionStart()&&a),"compositionend"===l&&(a=!1!==t.Qb(n,30)._compositionEnd(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,34)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.Qb(n,34)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.Qb(n,34)._onInput()&&a),"ngModelChange"===l&&(a=!1!==(i.label=e)&&a),a}),null,null)),t.Db(30,16384,null,0,Mn.d,[t.N,t.n,[2,Mn.a]],null,null),t.Vb(1024,null,Mn.l,(function(n){return[n]}),[Mn.d]),t.Db(32,671744,null,0,Mn.g,[[3,Mn.c],[8,null],[8,null],[6,Mn.l],[2,Mn.y]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Vb(2048,null,Mn.m,null,[Mn.g]),t.Db(34,999424,null,0,Tn.a,[t.n,Wn.a,[6,Mn.m],[2,Mn.p],[2,Mn.h],Fn.d,[8,null],qn.a,t.G],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),t.Ub(35,1),t.Db(36,16384,null,0,Mn.n,[[4,Mn.m]],null,null),t.Vb(2048,[[26,4],[27,4]],Vn.d,null,[Tn.a]),(n()(),t.Eb(38,0,null,null,7,"button",[["class","btn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.addEquipmentsVariable()&&t),t}),V.b,V.a)),t.Db(39,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Eb(40,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,u.b,u.a)),t.Db(41,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],null,null),(n()(),t.Yb(-1,0,["add"])),(n()(),t.Eb(43,0,null,0,2,"span",[],null,null,null,null,null)),(n()(),t.Yb(44,null,["",""])),t.Ub(45,1),(n()(),t.ub(16777216,null,null,1,null,ql)),t.Db(47,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null),(n()(),t.Eb(48,0,null,null,34,"mat-step",[],null,null,null,En.d,En.b)),t.Vb(6144,null,Fn.d,null,[In.c]),t.Db(50,573440,[[23,4]],1,In.c,[In.e,[1,Fn.d],[2,Dn.h]],{label:[0,"label"]},null),t.Wb(603979776,53,{stepLabel:0}),t.Ub(52,1),(n()(),t.Eb(53,0,null,0,29,"div",[["class","step"]],null,null,null,null,null)),(n()(),t.Eb(54,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t.Yb(55,null,["",""])),t.Ub(56,1),(n()(),t.Eb(57,0,null,null,25,"div",[["class","position"]],null,null,null,null,null)),(n()(),t.Eb(58,0,null,null,24,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),t.Db(59,16384,null,0,_.j,[],null,null),(n()(),t.Eb(60,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),t.Eb(61,0,null,null,2,"p",[["class","column"]],null,null,null,null,null)),(n()(),t.Yb(62,null,["",""])),t.Ub(63,1),(n()(),t.Eb(64,0,null,null,5,"mat-slide-toggle",[["class","column mat-slide-toggle"],["formControlName","column"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"]],(function(n,l,e){var a=!0,i=n.component;return"focus"===l&&(a=!1!==t.Qb(n,65)._inputElement.nativeElement.focus()&&a),"ngModelChange"===l&&(a=!1!==(i.column=e)&&a),a}),kl.b,kl.a)),t.Db(65,1228800,null,0,El.b,[t.n,W.h,t.i,[8,null],t.G,El.a,[2,T.a],[2,G.b]],{checked:[0,"checked"]},null),t.Vb(1024,null,Mn.l,(function(n){return[n]}),[El.b]),t.Db(67,671744,null,0,Mn.g,[[3,Mn.c],[8,null],[8,null],[6,Mn.l],[2,Mn.y]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Vb(2048,null,Mn.m,null,[Mn.g]),t.Db(69,16384,null,0,Mn.n,[[4,Mn.m]],null,null),(n()(),t.Eb(70,0,null,null,2,"p",[["class","column"]],null,null,null,null,null)),(n()(),t.Yb(71,null,["",""])),t.Ub(72,1),(n()(),t.Eb(73,0,null,null,9,"div",[["cdkDropList",""],["class","variables-list cdk-drop-list"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(n,l,e){var t=!0;return"cdkDropListDropped"===l&&(t=!1!==n.component.dragDrop(e)&&t),t}),null,null)),t.Vb(6144,null,Y.b,null,[Y.f]),t.Vb(512,null,$.y,$.z,[t.y,t.z,t.n,t.N]),t.Db(76,278528,null,0,$.i,[$.y],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Tb(77,{"variables-list":0}),t.Db(78,1196032,null,1,Y.f,[t.n,Y.h,t.i,[2,G.b],[3,Y.g]],null,{dropped:"cdkDropListDropped"}),t.Wb(603979776,54,{_draggables:1}),t.Vb(256,null,Y.g,void 0,[]),(n()(),t.ub(16777216,null,null,1,null,Ul)),t.Db(82,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=l.component;n(l,3,0,!0);var a=e.dashboardCardForm,i=t.Ib(1,"",t.Zb(l,8,1,n(l,10,0,t.Qb(l.parent,0),"admin.dashboard.card.infos.machine.step")),"");n(l,8,0,a,i),n(l,19,0,"outline"),n(l,32,0,"label",e.label);var o=t.Ib(1,"",t.Zb(l,34,1,n(l,35,0,t.Qb(l.parent,0),"admin.dashboard.card.name_placeholder")),"");n(l,34,0,"label",o,"text"),n(l,41,0),n(l,47,0,e.equipmentsVariables);var r=t.Ib(1,"",t.Zb(l,50,0,n(l,52,0,t.Qb(l.parent,0),"admin.dashboard.card.infos.machine.step_order")),"");n(l,50,0,r),n(l,65,0,e.column),n(l,67,0,"column",e.column);var u=n(l,77,0,e.column);n(l,76,0,"variables-list",u),n(l,82,0,e.equipmentsVariables)}),(function(n,l){n(l,1,0,"end"==t.Qb(l,3).labelPosition,"bottom"==t.Qb(l,3).labelPosition);var e=t.Zb(l,16,0,n(l,17,0,t.Qb(l.parent,0),"admin.dashboard.card.name"));n(l,16,0,e),n(l,18,1,["standard"==t.Qb(l,19).appearance,"fill"==t.Qb(l,19).appearance,"outline"==t.Qb(l,19).appearance,"legacy"==t.Qb(l,19).appearance,t.Qb(l,19)._control.errorState,t.Qb(l,19)._canLabelFloat,t.Qb(l,19)._shouldLabelFloat(),t.Qb(l,19)._hasFloatingLabel(),t.Qb(l,19)._hideControlPlaceholder(),t.Qb(l,19)._control.disabled,t.Qb(l,19)._control.autofilled,t.Qb(l,19)._control.focused,"accent"==t.Qb(l,19).color,"warn"==t.Qb(l,19).color,t.Qb(l,19)._shouldForward("untouched"),t.Qb(l,19)._shouldForward("touched"),t.Qb(l,19)._shouldForward("pristine"),t.Qb(l,19)._shouldForward("dirty"),t.Qb(l,19)._shouldForward("valid"),t.Qb(l,19)._shouldForward("invalid"),t.Qb(l,19)._shouldForward("pending"),!t.Qb(l,19)._animationsEnabled]),n(l,29,1,[t.Qb(l,34)._isServer,t.Qb(l,34).id,t.Qb(l,34).placeholder,t.Qb(l,34).disabled,t.Qb(l,34).required,t.Qb(l,34).readonly&&!t.Qb(l,34)._isNativeSelect||null,t.Qb(l,34)._ariaDescribedby||null,t.Qb(l,34).errorState,t.Qb(l,34).required.toString(),t.Qb(l,36).ngClassUntouched,t.Qb(l,36).ngClassTouched,t.Qb(l,36).ngClassPristine,t.Qb(l,36).ngClassDirty,t.Qb(l,36).ngClassValid,t.Qb(l,36).ngClassInvalid,t.Qb(l,36).ngClassPending]),n(l,38,0,t.Qb(l,39).disabled||null,"NoopAnimations"===t.Qb(l,39)._animationMode),n(l,40,0,t.Qb(l,41).inline,"primary"!==t.Qb(l,41).color&&"accent"!==t.Qb(l,41).color&&"warn"!==t.Qb(l,41).color);var a=t.Zb(l,44,0,n(l,45,0,t.Qb(l.parent,0),"admin.dashboard.card.add_variables"));n(l,44,0,a);var i=t.Zb(l,55,0,n(l,56,0,t.Qb(l.parent,0),"admin.dashboard.card.infos.machine.order"));n(l,55,0,i);var o=t.Zb(l,62,0,n(l,63,0,t.Qb(l.parent,0),"admin.dashboard.card.infos.machine.display.one_column"));n(l,62,0,o),n(l,64,1,[t.Qb(l,65).id,t.Qb(l,65).disabled?null:-1,null,null,t.Qb(l,65).checked,t.Qb(l,65).disabled,"before"==t.Qb(l,65).labelPosition,"NoopAnimations"===t.Qb(l,65)._animationMode,t.Qb(l,69).ngClassUntouched,t.Qb(l,69).ngClassTouched,t.Qb(l,69).ngClassPristine,t.Qb(l,69).ngClassDirty,t.Qb(l,69).ngClassValid,t.Qb(l,69).ngClassInvalid,t.Qb(l,69).ngClassPending]);var r=t.Zb(l,71,0,n(l,72,0,t.Qb(l.parent,0),"admin.dashboard.card.infos.machine.display.two_column"));n(l,71,0,r),n(l,73,0,t.Qb(l,78).id,t.Qb(l,78).disabled,t.Qb(l,78)._dropListRef.isDragging(),t.Qb(l,78)._dropListRef.isReceiving())}))}function Zl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,5,"div",[["class","view-label"]],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,2,"mat-checkbox",[["class","checkbox mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onViewChecked(e,n.context.index)&&t),t}),xn.b,xn.a)),t.Vb(5120,null,Mn.l,(function(n){return[n]}),[wn.b]),t.Db(3,8568832,null,0,wn.b,[t.n,t.i,W.h,t.G,[8,null],[2,wn.a],[2,T.a]],{disableRipple:[0,"disableRipple"],color:[1,"color"],checked:[2,"checked"]},{change:"change"}),(n()(),t.Eb(4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Yb(5,null,["",""]))],(function(n,l){n(l,3,0,!0,"primary",l.context.$implicit.checked)}),(function(n,l){n(l,1,0,t.Qb(l,3).id,null,t.Qb(l,3).indeterminate,t.Qb(l,3).checked,t.Qb(l,3).disabled,"before"==t.Qb(l,3).labelPosition,"NoopAnimations"===t.Qb(l,3)._animationMode),n(l,5,0,l.context.$implicit.label)}))}function Al(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,42,"div",[],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,3,"mat-label",[],null,null,null,null,null)),t.Db(2,16384,null,0,Vn.f,[],null,null),(n()(),t.Yb(3,null,["",""])),t.Ub(4,1),(n()(),t.Eb(5,0,null,null,19,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(6,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,58,{_controlNonStatic:0}),t.Wb(335544320,59,{_controlStatic:0}),t.Wb(603979776,60,{_labelChildNonStatic:0}),t.Wb(335544320,61,{_labelChildStatic:0}),t.Wb(603979776,62,{_placeholderChild:0}),t.Wb(603979776,63,{_errorChildren:1}),t.Wb(603979776,64,{_hintChildren:1}),t.Wb(603979776,65,{_prefixChildren:1}),t.Wb(603979776,66,{_suffixChildren:1}),(n()(),t.Eb(16,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","label"],["id","label"],["matInput",""],["name","label"],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,e){var a=!0;return"input"===l&&(a=!1!==t.Qb(n,17)._handleInput(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,17).onTouched()&&a),"compositionstart"===l&&(a=!1!==t.Qb(n,17)._compositionStart()&&a),"compositionend"===l&&(a=!1!==t.Qb(n,17)._compositionEnd(e.target.value)&&a),"blur"===l&&(a=!1!==t.Qb(n,21)._focusChanged(!1)&&a),"focus"===l&&(a=!1!==t.Qb(n,21)._focusChanged(!0)&&a),"input"===l&&(a=!1!==t.Qb(n,21)._onInput()&&a),a}),null,null)),t.Db(17,16384,null,0,Mn.d,[t.N,t.n,[2,Mn.a]],null,null),t.Vb(1024,null,Mn.l,(function(n){return[n]}),[Mn.d]),t.Db(19,671744,null,0,Mn.g,[[3,Mn.c],[8,null],[8,null],[6,Mn.l],[2,Mn.y]],{name:[0,"name"]},null),t.Vb(2048,null,Mn.m,null,[Mn.g]),t.Db(21,999424,null,0,Tn.a,[t.n,Wn.a,[6,Mn.m],[2,Mn.p],[2,Mn.h],Fn.d,[8,null],qn.a,t.G],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),t.Ub(22,1),t.Db(23,16384,null,0,Mn.n,[[4,Mn.m]],null,null),t.Vb(2048,[[58,4],[59,4]],Vn.d,null,[Tn.a]),(n()(),t.Eb(25,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),t.Eb(26,0,null,null,2,"p",[["class","column"]],null,null,null,null,null)),(n()(),t.Yb(27,null,["",""])),t.Ub(28,1),(n()(),t.Eb(29,0,null,null,5,"mat-slide-toggle",[["class","column mat-slide-toggle"],["formControlName","column"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"]],(function(n,l,e){var a=!0,i=n.component;return"focus"===l&&(a=!1!==t.Qb(n,30)._inputElement.nativeElement.focus()&&a),"ngModelChange"===l&&(a=!1!==(i.column=e)&&a),a}),kl.b,kl.a)),t.Db(30,1228800,null,0,El.b,[t.n,W.h,t.i,[8,null],t.G,El.a,[2,T.a],[2,G.b]],{checked:[0,"checked"]},null),t.Vb(1024,null,Mn.l,(function(n){return[n]}),[El.b]),t.Db(32,671744,null,0,Mn.g,[[3,Mn.c],[8,null],[8,null],[6,Mn.l],[2,Mn.y]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Vb(2048,null,Mn.m,null,[Mn.g]),t.Db(34,16384,null,0,Mn.n,[[4,Mn.m]],null,null),(n()(),t.Eb(35,0,null,null,2,"p",[["class","column"]],null,null,null,null,null)),(n()(),t.Yb(36,null,["",""])),t.Ub(37,1),(n()(),t.Eb(38,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t.Yb(39,null,["",""])),t.Ub(40,1),(n()(),t.ub(16777216,null,null,1,null,Zl)),t.Db(42,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=l.component;n(l,6,0,"outline"),n(l,19,0,"label");var a=t.Ib(1,"",t.Zb(l,21,1,n(l,22,0,t.Qb(l.parent,0),"admin.dashboard.card.name_placeholder")),"");n(l,21,0,"label",a,"text"),n(l,30,0,e.column),n(l,32,0,"column",e.column),n(l,42,0,e.allViews)}),(function(n,l){var e=t.Zb(l,3,0,n(l,4,0,t.Qb(l.parent,0),"admin.dashboard.card.name"));n(l,3,0,e),n(l,5,1,["standard"==t.Qb(l,6).appearance,"fill"==t.Qb(l,6).appearance,"outline"==t.Qb(l,6).appearance,"legacy"==t.Qb(l,6).appearance,t.Qb(l,6)._control.errorState,t.Qb(l,6)._canLabelFloat,t.Qb(l,6)._shouldLabelFloat(),t.Qb(l,6)._hasFloatingLabel(),t.Qb(l,6)._hideControlPlaceholder(),t.Qb(l,6)._control.disabled,t.Qb(l,6)._control.autofilled,t.Qb(l,6)._control.focused,"accent"==t.Qb(l,6).color,"warn"==t.Qb(l,6).color,t.Qb(l,6)._shouldForward("untouched"),t.Qb(l,6)._shouldForward("touched"),t.Qb(l,6)._shouldForward("pristine"),t.Qb(l,6)._shouldForward("dirty"),t.Qb(l,6)._shouldForward("valid"),t.Qb(l,6)._shouldForward("invalid"),t.Qb(l,6)._shouldForward("pending"),!t.Qb(l,6)._animationsEnabled]),n(l,16,1,[t.Qb(l,21)._isServer,t.Qb(l,21).id,t.Qb(l,21).placeholder,t.Qb(l,21).disabled,t.Qb(l,21).required,t.Qb(l,21).readonly&&!t.Qb(l,21)._isNativeSelect||null,t.Qb(l,21)._ariaDescribedby||null,t.Qb(l,21).errorState,t.Qb(l,21).required.toString(),t.Qb(l,23).ngClassUntouched,t.Qb(l,23).ngClassTouched,t.Qb(l,23).ngClassPristine,t.Qb(l,23).ngClassDirty,t.Qb(l,23).ngClassValid,t.Qb(l,23).ngClassInvalid,t.Qb(l,23).ngClassPending]);var a=t.Zb(l,27,0,n(l,28,0,t.Qb(l.parent,0),"admin.dashboard.card.infos.machine.display.one_column"));n(l,27,0,a),n(l,29,1,[t.Qb(l,30).id,t.Qb(l,30).disabled?null:-1,null,null,t.Qb(l,30).checked,t.Qb(l,30).disabled,"before"==t.Qb(l,30).labelPosition,"NoopAnimations"===t.Qb(l,30)._animationMode,t.Qb(l,34).ngClassUntouched,t.Qb(l,34).ngClassTouched,t.Qb(l,34).ngClassPristine,t.Qb(l,34).ngClassDirty,t.Qb(l,34).ngClassValid,t.Qb(l,34).ngClassInvalid,t.Qb(l,34).ngClassPending]);var i=t.Zb(l,36,0,n(l,37,0,t.Qb(l.parent,0),"admin.dashboard.card.infos.machine.display.two_column"));n(l,36,0,i);var o=t.Zb(l,39,0,n(l,40,0,t.Qb(l.parent,0),"admin.dashboard.card.infos.equipment"));n(l,39,0,o)}))}function zl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,3,"button",[["class","btn"],["id","submit"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.nextStepClick()&&t),t}),V.b,V.a)),t.Db(1,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Yb(2,0,[" "," "])),t.Ub(3,1)],null,(function(n,l){var e=l.component;n(l,0,0,t.Qb(l,1).disabled||null,"NoopAnimations"===t.Qb(l,1)._animationMode);var a=t.Zb(l,2,0,n(l,3,0,t.Qb(l.parent,0),e.currentStepIndex<1?"global.next":e.update?"global.edit":"global.create"));n(l,2,0,a)}))}function Rl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,3,"button",[["class","btn"],["id","submit"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onSubmit()&&t),t}),V.b,V.a)),t.Db(1,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Yb(2,0,[" "," "])),t.Ub(3,1)],null,(function(n,l){var e=l.component;n(l,0,0,t.Qb(l,1).disabled||null,"NoopAnimations"===t.Qb(l,1)._animationMode);var a=t.Zb(l,2,0,n(l,3,0,t.Qb(l.parent,0),e.update?"global.edit":"global.create"));n(l,2,0,a)}))}function jl(n){return t.ac(0,[t.Sb(0,f.i,[f.e,f.b,f.d]),t.Wb(671088640,1,{matStepper:0}),(n()(),t.Eb(2,0,null,null,50,"div",[["class","form"]],null,null,null,null,null)),(n()(),t.Eb(3,0,null,null,1,"vd-header",[],null,null,null,o.b,o.a)),t.Db(4,114688,null,0,r.a,[],{pageName:[0,"pageName"]},null),(n()(),t.Eb(5,0,null,null,47,"div",[["class","container"]],null,null,null,null,null)),(n()(),t.Eb(6,0,null,null,37,"form",[["id","dashboardCardForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var a=!0;return"submit"===l&&(a=!1!==t.Qb(n,8).onSubmit(e)&&a),"reset"===l&&(a=!1!==t.Qb(n,8).onReset()&&a),a}),null,null)),t.Db(7,16384,null,0,Mn.z,[],null,null),t.Db(8,540672,null,0,Mn.h,[[8,null],[8,null]],{form:[0,"form"]},null),t.Vb(2048,null,Mn.c,null,[Mn.h]),t.Db(10,16384,null,0,Mn.o,[[4,Mn.c]],null,null),(n()(),t.Eb(11,0,null,null,32,"div",[["class","infos-basic"]],null,null,null,null,null)),(n()(),t.Eb(12,0,null,null,31,"div",[["class","type"]],null,null,null,null,null)),(n()(),t.Eb(13,0,null,null,3,"mat-label",[],null,null,null,null,null)),t.Db(14,16384,null,0,Vn.f,[],null,null),(n()(),t.Yb(15,null,["",""])),t.Ub(16,1),(n()(),t.Eb(17,0,null,null,20,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Nn.b,Nn.a)),t.Db(18,7520256,null,9,Vn.c,[t.n,t.i,[2,Fn.j],[2,G.b],[2,Vn.a],Wn.a,t.G,[2,T.a]],{appearance:[0,"appearance"]},null),t.Wb(603979776,2,{_controlNonStatic:0}),t.Wb(335544320,3,{_controlStatic:0}),t.Wb(603979776,4,{_labelChildNonStatic:0}),t.Wb(335544320,5,{_labelChildStatic:0}),t.Wb(603979776,6,{_placeholderChild:0}),t.Wb(603979776,7,{_errorChildren:1}),t.Wb(603979776,8,{_hintChildren:1}),t.Wb(603979776,9,{_prefixChildren:1}),t.Wb(603979776,10,{_suffixChildren:1}),(n()(),t.Eb(28,0,null,1,9,"mat-select",[["class","mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"selectionChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(n,l,e){var a=!0,i=n.component;return"keydown"===l&&(a=!1!==t.Qb(n,30)._handleKeydown(e)&&a),"focus"===l&&(a=!1!==t.Qb(n,30)._onFocus()&&a),"blur"===l&&(a=!1!==t.Qb(n,30)._onBlur()&&a),"selectionChange"===l&&(a=!1!==i.onTypeSelection(e)&&a),a}),ol.b,ol.a)),t.Vb(6144,null,Fn.l,null,[rl.c]),t.Db(30,2080768,null,3,rl.c,[ul.e,t.i,t.G,Fn.d,t.n,[2,G.b],[2,Mn.p],[2,Mn.h],[2,Vn.c],[8,null],[8,null],rl.a,W.j],{placeholder:[0,"placeholder"],value:[1,"value"]},{selectionChange:"selectionChange"}),t.Wb(603979776,11,{options:1}),t.Wb(603979776,12,{optionGroups:1}),t.Wb(603979776,13,{customTrigger:0}),t.Ub(34,1),t.Vb(2048,[[2,4],[3,4]],Vn.d,null,[rl.c]),(n()(),t.ub(16777216,null,1,1,null,Vl)),t.Db(37,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null),(n()(),t.ub(16777216,null,null,1,null,Nl)),t.Db(39,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null),(n()(),t.ub(16777216,null,null,1,null,Ll)),t.Db(41,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null),(n()(),t.ub(16777216,null,null,1,null,Al)),t.Db(43,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null),(n()(),t.Eb(44,0,null,null,8,"div",[["class","buttons"]],null,null,null,null,null)),(n()(),t.Eb(45,0,null,null,3,"button",[["class","btn stroked"],["id","cancel"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onCancel()&&t),t}),V.b,V.a)),t.Db(46,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),(n()(),t.Yb(47,0,[" "," "])),t.Ub(48,1),(n()(),t.ub(16777216,null,null,1,null,zl)),t.Db(50,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null),(n()(),t.ub(16777216,null,null,1,null,Rl)),t.Db(52,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,4,0,e.pageName),n(l,8,0,e.dashboardCardForm),n(l,18,0,"outline");var a=t.Ib(1,"",t.Zb(l,30,0,n(l,34,0,t.Qb(l,0),"admin.dashboard.card.type_placeholder")),"");n(l,30,0,a,"admin.cards.types."+e.type),n(l,37,0,e.cardTypesStr),n(l,39,0,e.type===e.cardType.ALERT||e.type===e.cardType.DEFAULT||e.type===e.cardType.CONDITION||e.type===e.cardType.REPORT),n(l,41,0,e.type===e.cardType.MACHINE),n(l,43,0,e.type===e.cardType.EQUIPMENT),n(l,50,0,e.type===e.cardType.MACHINE&&e.dashboardCardForm.valid&&e.equipmentsVariables.length),n(l,52,0,e.type!==e.cardType.MACHINE&&e.dashboardCardForm.valid)}),(function(n,l){n(l,6,0,t.Qb(l,10).ngClassUntouched,t.Qb(l,10).ngClassTouched,t.Qb(l,10).ngClassPristine,t.Qb(l,10).ngClassDirty,t.Qb(l,10).ngClassValid,t.Qb(l,10).ngClassInvalid,t.Qb(l,10).ngClassPending);var e=t.Zb(l,15,0,n(l,16,0,t.Qb(l,0),"admin.dashboard.card.select_type"));n(l,15,0,e),n(l,17,1,["standard"==t.Qb(l,18).appearance,"fill"==t.Qb(l,18).appearance,"outline"==t.Qb(l,18).appearance,"legacy"==t.Qb(l,18).appearance,t.Qb(l,18)._control.errorState,t.Qb(l,18)._canLabelFloat,t.Qb(l,18)._shouldLabelFloat(),t.Qb(l,18)._hasFloatingLabel(),t.Qb(l,18)._hideControlPlaceholder(),t.Qb(l,18)._control.disabled,t.Qb(l,18)._control.autofilled,t.Qb(l,18)._control.focused,"accent"==t.Qb(l,18).color,"warn"==t.Qb(l,18).color,t.Qb(l,18)._shouldForward("untouched"),t.Qb(l,18)._shouldForward("touched"),t.Qb(l,18)._shouldForward("pristine"),t.Qb(l,18)._shouldForward("dirty"),t.Qb(l,18)._shouldForward("valid"),t.Qb(l,18)._shouldForward("invalid"),t.Qb(l,18)._shouldForward("pending"),!t.Qb(l,18)._animationsEnabled]),n(l,28,1,[t.Qb(l,30).id,t.Qb(l,30).tabIndex,t.Qb(l,30)._getAriaLabel(),t.Qb(l,30)._getAriaLabelledby(),t.Qb(l,30).required.toString(),t.Qb(l,30).disabled.toString(),t.Qb(l,30).errorState,t.Qb(l,30).panelOpen?t.Qb(l,30)._optionIds:null,t.Qb(l,30).multiple,t.Qb(l,30)._ariaDescribedby||null,t.Qb(l,30)._getAriaActiveDescendant(),t.Qb(l,30).disabled,t.Qb(l,30).errorState,t.Qb(l,30).required,t.Qb(l,30).empty]),n(l,45,0,t.Qb(l,46).disabled||null,"NoopAnimations"===t.Qb(l,46)._animationMode);var a=t.Zb(l,47,0,n(l,48,0,t.Qb(l,0),"global.cancel"));n(l,47,0,a)}))}function Yl(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"vd-dashboard-form",[],null,null,null,jl,Fl)),t.Db(1,4308992,null,0,Dl,[x.a,x.l,Mn.f,f.j,_.e,D,z.a,Il.a],null,null)],(function(n,l){n(l,1,0)}),null)}var $l=t.Ab("vd-dashboard-form",Dl,Yl,{},{},[]),Gl=e("t68o"),Bl=e("zbXB"),Hl=e("NcP4"),Jl=e("xYTU"),Kl=e("No7X"),Xl=e("bIR2"),ne=e("N9qn"),le=e("7Z8E"),ee=e("CdUb"),te=e("VB5g"),ae=e("NvT6"),ie=e("W5yJ"),oe=e("Ourk"),re=e("elxJ"),ue=e("6UMx"),ce=e("Q+lL"),se=e("Mz6y"),de=e("QQfA"),be=e("cUpR"),pe=e("hSRK"),me=t.Cb({encapsulation:2,styles:[[".container{position:relative;height:100%}.container mat-dialog-content{margin:0;padding:0;height:450px}.container mat-dialog-content .spinner{margin:10% auto}.container mat-dialog-content .category{margin-top:10px;display:flex;align-items:center;height:48px;width:100%;background-color:#ececec}.container mat-dialog-content .category span{margin-left:40px;color:#152935;font-family:OpenSansBold;font-size:16px;font-weight:700}.container mat-dialog-content .mat-list{padding:10px 0}.container mat-dialog-content .mat-list .mat-list-item .mat-list-item-content{padding:0 80px}.container mat-dialog-content .mat-list .mat-list-item .mat-list-item-content .variable{display:flex;align-items:center}.container mat-dialog-content .mat-list .mat-list-item .mat-list-item-content mat-icon{color:#004289}.container mat-dialog-actions{position:absolute;bottom:0;right:0;left:0;border-top:2px solid rgba(16,76,144,.1);margin-bottom:0;justify-content:space-between;padding:28px 40px;background-color:#fff}.container mat-dialog-actions button{height:40px;width:193px;border-radius:20px;font-family:OpenSans;font-size:14px;border:none;cursor:pointer;outline:0}.container mat-dialog-actions #cancelBtn{background-color:#fff;color:#004289;border:1px solid #004289}.container mat-dialog-actions #cancelBtn:hover{background-color:#004289;color:#fff}.container mat-dialog-actions #confirmBtn{background-color:#004289;color:#fff;display:flex;align-items:center;justify-content:center;position:relative}.container mat-dialog-actions #confirmBtn:hover{background-color:rgba(16,76,144,.1);color:#fff}.container mat-dialog-actions #confirmBtn.disabledBtn{background-color:rgba(16,76,144,.1);cursor:default}.container mat-dialog-actions #confirmBtn .spinner{display:inline-block;position:absolute;left:20px;top:10px}.container mat-checkbox .mat-checkbox-inner-container{height:18px;width:18px}.container mat-checkbox.mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#004289!important}"]],data:{}});function ge(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"mat-spinner",[["class","spinner mat-spinner mat-progress-spinner"],["diameter","60"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,ae.d,ae.b)),t.Db(1,114688,null,0,ie.d,[t.n,Wn.a,[2,$.d],[2,T.a],ie.a],{diameter:[0,"diameter"]},null)],(function(n,l){n(l,1,0,"60")}),(function(n,l){n(l,0,0,t.Qb(l,1)._noopAnimations,t.Qb(l,1).diameter,t.Qb(l,1).diameter)}))}function he(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,3,"mat-checkbox",[["class","checkbox mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onChange(n.parent.context.$implicit)&&t),t}),xn.b,xn.a)),t.Vb(5120,null,Mn.l,(function(n){return[n]}),[wn.b]),t.Db(2,8568832,null,0,wn.b,[t.n,t.i,W.h,t.G,[8,null],[2,wn.a],[2,T.a]],{disableRipple:[0,"disableRipple"],checked:[1,"checked"]},{change:"change"}),(n()(),t.Yb(3,0,[" "," "]))],(function(n,l){n(l,2,0,!0,l.component.isChecked(l.parent.context.$implicit.rule))}),(function(n,l){n(l,0,0,t.Qb(l,2).id,null,t.Qb(l,2).indeterminate,t.Qb(l,2).checked,t.Qb(l,2).disabled,"before"==t.Qb(l,2).labelPosition,"NoopAnimations"===t.Qb(l,2)._animationMode),n(l,3,0,l.parent.context.$implicit.rule)}))}function fe(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"change"],[null,"focus"]],(function(n,l,e){var a=!0,i=n.component;return"focus"===l&&(a=!1!==t.Qb(n,1)._inputElement.nativeElement.focus()&&a),"change"===l&&(a=!1!==i.onChange(n.parent.context.$implicit)&&a),a}),oe.b,oe.a)),t.Db(1,4440064,[[1,4]],0,re.b,[[2,re.c],t.n,t.i,W.h,kn.d,[2,T.a],[2,re.a]],{disableRipple:[0,"disableRipple"],checked:[1,"checked"],value:[2,"value"]},{change:"change"}),(n()(),t.Yb(2,0,[" "," "]))],(function(n,l){n(l,1,0,!0,l.component.isChecked(l.parent.context.$implicit.rule),l.parent.context.$implicit.rule)}),(function(n,l){n(l,0,1,[t.Qb(l,1).checked,t.Qb(l,1).disabled,"NoopAnimations"===t.Qb(l,1)._animationMode,"primary"===t.Qb(l,1).color,"accent"===t.Qb(l,1).color,"warn"===t.Qb(l,1).color,-1,t.Qb(l,1).id,null,null,null]),n(l,2,0,l.parent.context.$implicit.rule)}))}function _e(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,12,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,ue.c,ue.b)),t.Db(1,1228800,null,3,ce.b,[t.n,t.i,[2,ce.e],[2,ce.a]],null,null),t.Wb(603979776,2,{_lines:1}),t.Wb(603979776,3,{_avatar:0}),t.Wb(603979776,4,{_icon:0}),(n()(),t.Eb(5,0,null,2,4,"div",[["class","variable"]],null,null,null,null,null)),(n()(),t.ub(16777216,null,null,1,null,he)),t.Db(7,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null),(n()(),t.ub(16777216,null,null,1,null,fe)),t.Db(9,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null),(n()(),t.Eb(10,16777216,null,2,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["svgIcon","info"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,l,e){var a=!0;return"longpress"===l&&(a=!1!==t.Qb(n,12).show()&&a),"keydown"===l&&(a=!1!==t.Qb(n,12)._handleKeydown(e)&&a),"touchend"===l&&(a=!1!==t.Qb(n,12)._handleTouchend()&&a),a}),u.b,u.a)),t.Db(11,9158656,null,0,c.b,[t.n,c.d,[8,null],[2,c.a],[2,t.o]],{svgIcon:[0,"svgIcon"]},null),t.Db(12,212992,null,0,se.d,[de.d,t.n,ul.b,t.Z,t.G,Wn.a,W.c,W.h,se.b,[2,G.b],[2,se.a],[2,be.f]],{position:[0,"position"],message:[1,"message"]},null)],(function(n,l){var e=l.component;n(l,7,0,e.multiple),n(l,9,0,!e.multiple),n(l,11,0,"info"),n(l,12,0,"left",t.Ib(1,"",l.context.$implicit.descr,""))}),(function(n,l){n(l,0,0,t.Qb(l,1)._avatar||t.Qb(l,1)._icon,t.Qb(l,1)._avatar||t.Qb(l,1)._icon),n(l,10,0,t.Qb(l,11).inline,"primary"!==t.Qb(l,11).color&&"accent"!==t.Qb(l,11).color&&"warn"!==t.Qb(l,11).color)}))}function Ce(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),t.Eb(1,0,null,null,11,"mat-radio-group",[["class","mat-radio-group"],["role","radiogroup"]],null,null,null,null,null)),t.Vb(5120,null,Mn.l,(function(n){return[n]}),[re.c]),t.Db(3,1064960,null,1,re.c,[t.i],null,null),t.Wb(603979776,1,{_radios:1}),(n()(),t.Eb(5,0,null,null,3,"div",[["class","category"]],null,null,null,null,null)),(n()(),t.Eb(6,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t.Yb(7,null,["",""])),t.Ub(8,1),(n()(),t.Eb(9,0,null,null,3,"mat-list",[["class","mat-list mat-list-base"],["role","list"]],null,null,null,ue.d,ue.a)),t.Db(10,704512,null,0,ce.a,[t.n],null,null),(n()(),t.ub(16777216,null,0,1,null,_e)),t.Db(12,278528,null,0,$.j,[t.Z,t.V,t.y],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,12,0,l.component.conditions)}),(function(n,l){var e=t.Zb(l,7,0,n(l,8,0,t.Qb(l.parent,0),"global.pages.name.conditions"));n(l,7,0,e)}))}function ve(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"mat-spinner",[["class","spinner mat-spinner mat-progress-spinner"],["diameter","20"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,ae.d,ae.b)),t.Db(1,114688,null,0,ie.d,[t.n,Wn.a,[2,$.d],[2,T.a],ie.a],{diameter:[0,"diameter"]},null)],(function(n,l){n(l,1,0,"20")}),(function(n,l){n(l,0,0,t.Qb(l,1)._noopAnimations,t.Qb(l,1).diameter,t.Qb(l,1).diameter)}))}function Oe(n){return t.ac(0,[t.Sb(0,f.i,[f.e,f.b,f.d]),(n()(),t.Eb(1,0,null,null,22,"div",[["class","container"]],null,null,null,null,null)),(n()(),t.Eb(2,0,null,null,5,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),t.Db(3,16384,null,0,_.j,[],null,null),(n()(),t.ub(16777216,null,null,1,null,ge)),t.Db(5,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null),(n()(),t.ub(16777216,null,null,1,null,Ce)),t.Db(7,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null),(n()(),t.Eb(8,0,null,null,15,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),t.Db(9,16384,null,0,_.f,[],null,null),(n()(),t.Eb(10,0,null,null,4,"button",[["id","cancelBtn"],["mat-button",""],["mat-dialog-close",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,l,e){var a=!0;return"click"===l&&(a=!1!==t.Qb(n,12).dialogRef.close(t.Qb(n,12).dialogResult)&&a),a}),V.b,V.a)),t.Db(11,180224,null,0,N.b,[t.n,W.h,[2,T.a]],null,null),t.Db(12,606208,null,0,_.g,[[2,_.l],t.n,_.e],{dialogResult:[0,"dialogResult"]},null),(n()(),t.Yb(13,0,[" "," "])),t.Ub(14,1),(n()(),t.Eb(15,0,null,null,8,"button",[["id","confirmBtn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.sendVariables()&&t),t}),V.b,V.a)),t.Vb(512,null,$.y,$.z,[t.y,t.z,t.n,t.N]),t.Db(17,278528,null,0,$.i,[$.y],{ngClass:[0,"ngClass"]},null),t.Tb(18,{disabledBtn:0}),t.Db(19,180224,null,0,N.b,[t.n,W.h,[2,T.a]],{disabled:[0,"disabled"]},null),(n()(),t.ub(16777216,null,0,1,null,ve)),t.Db(21,16384,null,0,$.k,[t.Z,t.V],{ngIf:[0,"ngIf"]},null),(n()(),t.Yb(22,0,[" "," "])),t.Ub(23,1)],(function(n,l){var e=l.component;n(l,5,0,e.loading),n(l,7,0,!e.loading),n(l,12,0,"");var t=n(l,18,0,0===e.selectedConditions.length||e.send);n(l,17,0,t),n(l,19,0,0===e.selectedConditions.length||e.send),n(l,21,0,e.send)}),(function(n,l){n(l,10,0,t.Qb(l,11).disabled||null,"NoopAnimations"===t.Qb(l,11)._animationMode,t.Qb(l,12).ariaLabel||null,t.Qb(l,12).type);var e=t.Zb(l,13,0,n(l,14,0,t.Qb(l,0),"global.cancel"));n(l,13,0,e),n(l,15,0,t.Qb(l,19).disabled||null,"NoopAnimations"===t.Qb(l,19)._animationMode);var a=t.Zb(l,22,0,n(l,23,0,t.Qb(l,0),"global.set"));n(l,22,0,a)}))}function Qe(n){return t.ac(0,[(n()(),t.Eb(0,0,null,null,1,"ng-component",[],null,null,null,Oe,me)),t.Db(1,114688,null,0,cl,[pe.a,_.l,_.a],null,null)],(function(n,l){n(l,1,0)}),null)}var Pe=t.Ab("ng-component",cl,Qe,{},{},[]),xe=e("POq0"),Me=e("/Co4"),we=e("821u"),ye=e("gavF"),Se=e("7kcP"),ke=e("OIZN"),Ee=e("i+9a"),De=e("Tq4R"),Ie=e("rAFq"),Fe=e("6Q19"),Ve=e("4D9t"),Ne=e("bMPK"),We=e("UiI2"),Te=e("pkqg"),qe=e("aHub"),Ue=e("KNnM"),Le=e("Se1k"),Ze=e("k/Rj"),Ae=e("lXun");class ze{}var Re=e("zMNK"),je=e("lT8R"),Ye=e("BV1i"),$e=e("BzsH"),Ge=e("02hT"),Be=e("FVPZ"),He=e("igqZ"),Je=e("5Bek"),Ke=e("mkRZ"),Xe=e("kNGD"),nt=e("8P0U"),lt=e("dFDH"),et=e("zQui"),tt=e("8rEH"),at=e("vKFO"),it=e("ospN"),ot=e("OUr5"),rt=e("jRYl"),ut=e("KL2N"),ct=e("QX+E"),st=e("lawv"),dt=e("rpfI"),bt=e("peFy"),pt=e("2aj9");class mt{}var gt=e("tmBt"),ht=e("Wumy"),ft=e("/qvy"),_t=e("b3E/"),Ct=e("w6+6"),vt=e("IZET"),Ot=e("1jDe"),Qt=e("T8sE"),Pt=e("skic"),xt=e("KeWI"),Mt=e("UsZU"),wt=e("50k4"),yt=e("o56U"),St=e("U3vz"),kt=e("r6ye"),Et=e("KktT"),Dt=e("eby4"),It=e("uAe9"),Ft=e("auFy"),Vt=e("jjWd"),Nt=e("RvWD"),Wt=e("dvZr"),Tt=e("EFU/");e.d(l,"AdminModuleNgFactory",(function(){return qt}));var qt=t.Bb(a,[],(function(n){return t.Nb([t.Ob(512,t.l,t.mb,[[8,[i.a,Pn,Jn,al,wl,$l,Gl.a,Bl.b,Bl.a,Hl.a,Jl.a,Jl.b,Kl.a,Xl.a,ne.a,le.a,ee.a,te.a,Pe]],[3,t.l],t.E]),t.Ob(4608,$.m,$.l,[t.A,[2,$.D]]),t.Ob(4608,xe.c,xe.c,[]),t.Ob(4608,Fn.d,Fn.d,[]),t.Ob(4608,de.d,de.d,[de.j,de.f,t.l,de.i,de.g,t.w,t.G,$.d,G.b,[2,$.g]]),t.Ob(5120,de.k,de.l,[de.d]),t.Ob(5120,Me.b,Me.c,[de.d]),t.Ob(5120,_.c,_.d,[de.d]),t.Ob(135680,_.e,_.e,[de.d,t.w,[2,$.g],[2,_.b],_.c,[3,_.e],de.f]),t.Ob(4608,we.h,we.h,[]),t.Ob(5120,we.a,we.b,[de.d]),t.Ob(5120,rl.a,rl.b,[de.d]),t.Ob(4608,be.e,Fn.e,[[2,Fn.i],[2,Fn.n]]),t.Ob(5120,ye.c,ye.j,[de.d]),t.Ob(5120,In.f,In.a,[[3,In.f]]),t.Ob(5120,se.b,se.c,[de.d]),t.Ob(5120,Se.d,Se.a,[[3,Se.d]]),t.Ob(4352,ke.c,Ee.b,[]),t.Ob(4608,Mn.x,Mn.x,[]),t.Ob(4608,f.a,f.l,[]),t.Ob(4608,f.e,f.j,[f.a]),t.Ob(4608,f.i,f.i,[f.e,f.b,f.d]),t.Ob(4608,f.f,f.f,[f.e,f.b,f.d]),t.Ob(4608,f.g,f.g,[f.e]),t.Ob(4608,f.k,f.k,[f.i,$.d]),t.Ob(4608,f.j,f.j,[f.a]),t.Ob(5120,f.c,f.m,[f.e]),t.Ob(5120,De.b,De.d,[de.d]),t.Ob(4608,De.e,De.e,[de.d,t.w,[2,$.g],De.b,[2,De.a],[3,De.e],de.f]),t.Ob(4608,Ie.a,Fe.b,[f.j]),t.Ob(5120,Ve.a,Ve.c,[de.d]),t.Ob(4608,Ne.a,We.a,[[2,Ne.b],Wn.a]),t.Ob(4608,Q.a,Q.a,[v.c]),t.Ob(4608,b.a,b.a,[Te.b,Te.a]),t.Ob(4608,Y.h,Y.h,[$.d,t.G,ul.e,Y.j]),t.Ob(4608,qe.a,qe.a,[v.c,Q.a]),t.Ob(4608,Ue.a,Ue.a,[v.c,Q.a]),t.Ob(4608,pe.a,pe.a,[Q.a]),t.Ob(4608,Mn.f,Mn.f,[]),t.Ob(4608,Le.a,Le.a,[t.g,t.l,t.w]),t.Ob(4608,Ze.a,Ze.a,[Le.a]),t.Ob(1073742336,$.c,$.c,[]),t.Ob(1073742336,Ae.a,Ae.a,[]),t.Ob(1073742336,x.p,x.p,[[2,x.u],[2,x.l]]),t.Ob(1073742336,ze,ze,[]),t.Ob(1073742336,G.a,G.a,[]),t.Ob(1073742336,Fn.n,Fn.n,[[2,Fn.f],[2,be.f]]),t.Ob(1073742336,Wn.b,Wn.b,[]),t.Ob(1073742336,Fn.x,Fn.x,[]),t.Ob(1073742336,xe.d,xe.d,[]),t.Ob(1073742336,wn.d,wn.d,[]),t.Ob(1073742336,wn.c,wn.c,[]),t.Ob(1073742336,N.c,N.c,[]),t.Ob(1073742336,qn.c,qn.c,[]),t.Ob(1073742336,Vn.e,Vn.e,[]),t.Ob(1073742336,Tn.b,Tn.b,[]),t.Ob(1073742336,Fn.v,Fn.v,[]),t.Ob(1073742336,Fn.s,Fn.s,[]),t.Ob(1073742336,Re.g,Re.g,[]),t.Ob(1073742336,ul.c,ul.c,[]),t.Ob(1073742336,de.h,de.h,[]),t.Ob(1073742336,Me.e,Me.e,[]),t.Ob(1073742336,_.k,_.k,[]),t.Ob(1073742336,W.a,W.a,[]),t.Ob(1073742336,we.i,we.i,[]),t.Ob(1073742336,re.d,re.d,[]),t.Ob(1073742336,rl.d,rl.d,[]),t.Ob(1073742336,je.a,je.a,[]),t.Ob(1073742336,El.d,El.d,[]),t.Ob(1073742336,El.c,El.c,[]),t.Ob(1073742336,ye.i,ye.i,[]),t.Ob(1073742336,ye.f,ye.f,[]),t.Ob(1073742336,Ye.h,Ye.h,[]),t.Ob(1073742336,$e.a,$e.a,[]),t.Ob(1073742336,Fn.o,Fn.o,[]),t.Ob(1073742336,Ge.a,Ge.a,[]),t.Ob(1073742336,ce.c,ce.c,[]),t.Ob(1073742336,Be.b,Be.b,[]),t.Ob(1073742336,He.f,He.f,[]),t.Ob(1073742336,Dn.e,Dn.e,[]),t.Ob(1073742336,c.c,c.c,[]),t.Ob(1073742336,In.g,In.g,[]),t.Ob(1073742336,S.l,S.l,[]),t.Ob(1073742336,Je.c,Je.c,[]),t.Ob(1073742336,Sn.d,Sn.d,[]),t.Ob(1073742336,Ke.a,Ke.a,[]),t.Ob(1073742336,Xe.b,Xe.b,[]),t.Ob(1073742336,ie.c,ie.c,[]),t.Ob(1073742336,nt.a,nt.a,[]),t.Ob(1073742336,se.e,se.e,[]),t.Ob(1073742336,lt.e,lt.e,[]),t.Ob(1073742336,et.p,et.p,[]),t.Ob(1073742336,tt.l,tt.l,[]),t.Ob(1073742336,Se.e,Se.e,[]),t.Ob(1073742336,ke.d,ke.d,[]),t.Ob(1073742336,at.a,at.a,[]),t.Ob(1073742336,Mn.w,Mn.w,[]),t.Ob(1073742336,Mn.j,Mn.j,[]),t.Ob(1073742336,f.h,f.h,[]),t.Ob(1073742336,it.a,it.a,[]),t.Ob(1073742336,ot.a,ot.a,[]),t.Ob(1073742336,rt.a,rt.a,[]),t.Ob(1073742336,ut.a,ut.a,[]),t.Ob(1073742336,ct.a,ct.a,[]),t.Ob(1073742336,ct.b,ct.b,[]),t.Ob(1073742336,Fe.a,Fe.a,[]),t.Ob(1073742336,st.c,st.c,[]),t.Ob(1073742336,dt.a,dt.a,[]),t.Ob(1073742336,bt.a,bt.a,[]),t.Ob(1073742336,pt.a,pt.a,[]),t.Ob(1073742336,Ee.a,Ee.a,[]),t.Ob(1073742336,Y.i,Y.i,[]),t.Ob(1073742336,mt,mt,[]),t.Ob(1073742336,gt.a,gt.a,[]),t.Ob(1073742336,Mn.t,Mn.t,[]),t.Ob(1073742336,ht.a,ht.a,[]),t.Ob(1073742336,ft.a,ft.a,[]),t.Ob(1073742336,_t.a,_t.a,[]),t.Ob(1073742336,Ct.a,Ct.a,[]),t.Ob(1073742336,vt.a,vt.a,[]),t.Ob(1073742336,Ot.a,Ot.a,[]),t.Ob(1073742336,Qt.a,Qt.a,[]),t.Ob(1073742336,Pt.a,Pt.a,[]),t.Ob(1073742336,xt.a,xt.a,[]),t.Ob(1073742336,Mt.a,Mt.a,[]),t.Ob(1073742336,wt.a,wt.a,[]),t.Ob(1073742336,yt.a,yt.a,[]),t.Ob(1073742336,St.a,St.a,[]),t.Ob(1073742336,kt.a,kt.a,[]),t.Ob(1073742336,Et.a,Et.a,[]),t.Ob(1073742336,Dt.a,Dt.a,[]),t.Ob(1073742336,It.a,It.a,[]),t.Ob(1073742336,Ft.a,Ft.a,[]),t.Ob(1073742336,Vt.a,Vt.a,[]),t.Ob(1073742336,a,a,[]),t.Ob(1024,x.j,(function(){return[[{path:"",component:Cn},{path:"profile",children:[{path:"",redirectTo:"create",pathMatch:"full"},{path:"create",component:An}]},{path:"user",children:[{path:"",redirectTo:"create",pathMatch:"full"},{path:"create",component:Kn}]},{path:"view",children:[{path:"",redirectTo:"create",pathMatch:"full"},{path:"create",component:_l}]},{path:"dashboard",children:[{path:"",redirectTo:"create",pathMatch:"full"},{path:"create",component:Dl}]}],[{path:"",component:Nt.a}]]}),[]),t.Ob(256,Xe.a,{separatorKeyCodes:[Wt.f]},[]),t.Ob(256,f.b,"",[]),t.Ob(256,f.d,"",[]),t.Ob(256,Tt.a,Fe.c,[]),t.Ob(256,_.l,Ee.c,[]),t.Ob(256,_.a,Ee.d,[])])}))},"2uf4":function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(n){return n.NONE="",n.DEFAULT="default",n.ALERT="alert",n.MACHINE="machine",n.EQUIPMENT="equipment",n.REPORT="report",n.CONDITION="condition",n}({})},aHub:function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var t=e("IheW"),a=e("AytR");class i{constructor(n,l){this.http=n,this.apiService=l}getAlerts(n=1,l=25,e=1,i="d",o="default",r="all"){return this.http.get(`${a.a.api_url}samples/all`,{params:(new t.h).set("page",n.toString()).set("limit",l.toString()).set("sort",e.toString()).set("column",i.toString()).set("type",o.toString()).set("category",r.toString())})}getHistorical(n=1,l=25,e=1,i="d",o="all",r,u=""){return this.http.post(`${a.a.api_url}samples/history`,{dates:{min:r.min,max:r.max}},{params:(new t.h).set("page",n.toString()).set("limit",l.toString()).set("sort",e.toString()).set("column",i.toString()).set("category",o.toString()).set("search",u.toString())})}getCurrentAlerts(n){return this.apiService.get(`samples/${n}`)}getSelectedAlerts(n,l){return this.apiService.put(`samples/selected?type=${n}`,{variables:l})}getAlertById(n){return this.apiService.get(`samples?vId=${n}`)}}},hSRK:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));class t{constructor(n){this.apiService=n}getConditions(n=null,l=1,e="descr"){return this.apiService.get(n?`conditions?limit=${n}`:`conditions?sort=${l}&column=${e}`)}getConditionById(n){return this.apiService.get(`conditions/${n}`)}getSelectedConditions(n){return this.apiService.put("conditions/selected",{conditions:n})}}}}]);